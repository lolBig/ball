webpackJsonp([0],[function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(81),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(175),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(158),o=r(i),a=n(155),s=r(a),u=n(52),l=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(52),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loginManager=t.worldManager=t.gameManager=t.netManager=t.display=t.scheduler=t.memCache=t.cache=t.eventDispatcher=t.util=t.console=t.Color4B=t.Color3B=t.Rect=t.Vec2=t.Size=void 0;var i=n(1),o=r(i),a=n(0),s=r(a),u=n(7),l=r(u),c=n(116),f=r(c),d=n(123),h=r(d),p=n(115),y=r(p),v=n(125),m=r(v),g=n(126),k=r(g),b=n(124),_=r(b),w=n(152),C=r(w),x=n(112),E=r(x),M=n(113),S=r(M),T=n(80),L=r(T),D=n(114),P=r(D),A=l.default.epsilon;t.Size=function e(t,n){(0,s.default)(this,e),this.width=t||0,this.height=n||0},t.Vec2=function e(t,n){(0,s.default)(this,e),this.x=t||0,this.y=n||0},t.Rect=function(){function e(t,n,r,i){(0,s.default)(this,e),this.x=t||0,this.y=n||0,this.width=r||0,this.height=i||0}return(0,o.default)(e,[{key:"isContainPoint",value:function(e){return e.x-this.x>A&&e.y-this.y>A&&e.x-this.x+this.width<A&&e.y<=this.y+this.height<A}},{key:"isIntersection1",value:function(e){return this.x-e.x-e.width<A&&e.x-this.x-this.width<A&&this.y-e.y-e.height<A&&e.y-this.y-this.height<A}},{key:"isIntersection2",value:function(e,t,n,r){return this.x-e-n<A&&e-this.x-this.width<A&&this.y-t-r<A&&t-this.y-this.height<A}}]),e}(),t.Color3B=function(){function e(t,n,r){(0,s.default)(this,e),this.r=t||0,this.g=n||0,this.b=r||0}return(0,o.default)(e,[{key:"toString",value:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}(),t.Color4B=function(){function e(t,n,r,i){(0,s.default)(this,e),this.r=t||0,this.g=n||0,this.b=r||0,this.a=i||1}return(0,o.default)(e,[{key:"toString",value:function(){return"rgba("+this.r+","+this.g+","+this.b+", "+this.a+")"}}]),e}(),window.DEBUG=!0,t.console=DEBUG&&window.console||new Proxy({},{get:function(e,t){return function(){}},set:function(e,t,n){}}),t.util=L.default,t.eventDispatcher=new f.default,t.cache=new E.default,t.memCache=new S.default,t.scheduler=new C.default,t.display=new y.default,t.netManager=new m.default,t.gameManager=new h.default,t.worldManager=new k.default,t.loginManager=new _.default,e.exports.device=P.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(29),o=r(i),a=n(149),s=r(a);e.exports=(0,o.default)({gridPixel:30,runningStates:{stop:0,running:1,pause:2},lifeCycle:{init:1,live:2,die:3},fastForwardTimeScale:6,initFastForwardTimeScale:1e8,keyCodes:{arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40},keyboardMoveCaptureInterval:100},s.default)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports={aniFadeIn:"_1kxpRTql5mDmxYJIyyUUun",FadeIn:"_1Xx9PJfFe5DFeUYTW3Vf-l",aniFadeOut:"_4LbALq4wkm8qNn-WPKJ7t",FadeOut:"_13G46P-E04_6pWinv6xIfz",aniScaleToMax:"_2MwLamVWvxZGJ2DM55Gqcl",ScaleToMax:"_2OzN2Pdj6vIgu6KghHrGum",aniScaleToMin:"_1oEk3__ql3X6ydtQ45rpaD",ScaleToMin:"_3VIWMY0sEnATJND9neOpA",hidden:"Yp-Rp9xS-_i2bD3LEcZhJ",hint:"_2Z9wNoNSIdFMgu0HMDWlgX",svgSprite:"_3fKpt-sFjlcACDMTvi_-Ld",container:"ewwpcO8RyKGhiuRxgKds2",stat:"_1BJyrG211WtlCoVwJk56Z6",scene:"_2v_Q828UfHJiWjxdigqiiU",gameUI:"NjIaBGLOhykG1_ksdGZbS",gameTimer:"_1W-pBzjUuwFI1qsm04LRdL",gameRankBoard:"_3M5DI-tzRtKfCdHHk56b_s",gameMap:"_3mMQeXGxtFZ6qgJ-E7rCDa",dialog:"jsjXAF9uIp1JOvSMVkOFR",dialogContainer:"_3BW6brp9iEXrkwQzhO4kDq",dialogTitle:"_1zI45UOLSnXL4DPR_MCqyV",dialogContent:"_1LUsgcVymX-Lir_VdMvwF_",dialogButtons:"MjCal03GLnUiFgtFdf2cc",gameSettlementDialog:"_3_w-QPWaaDFBlVQNtJnFyx",enterDialog:"pCkIjCqv89WsDPNLosEKZ",switchPanel:"_3QxyGnlUiKo1IMAfg5Mqvp",gameEndDialog:"_21ILRtli-p7F2fdVrhIRok",inputBox:"_2G0jxZoNbj9GnM6Qn0p0aj",messageBoxContainer:"_1pRVG0VxlV4h1wJDga5BBN",messageBox:"EeHTnLx7ItJVu13ys4kai",messages:"FmFISfxC3RTQXD9UWnRjh",message:"_2IDdebqfCaz6HZs8EVdLcc",playerMessage:"XJhdoa7AcqMWFWdMgNewR",localPlayerMessage:"_3POAJKhNRC82V8by390O2",keyboard:"_2wDbGAjw4BF99hlNuM1jE4"}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports={default:n(166),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),o=r(i),a=n(156),s=r(a);t.default=function e(t,n,r){null===t&&(t=Function.prototype);var i=(0,s.default)(t,n);if(void 0===i){var a=(0,o.default)(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}},function(e,t,n){var r=n(65)("wks"),i=n(43),o=n(17).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";e.exports={gameSetting:"Setting",userRank:"Rank",mg:"mg",save:"Save",close:"Close",exitGame:"Exit",ok:"OK",cancel:"Cancel",confirm:"Confirm",notice:"Notice",exitConfirm:"Are you sure to exit?",gameSettlement:"Game Settlement",eatenBy:"You have been eaten by %s.",continue:"Continue",finalWeight:"Weight",eatenCount:"Eaten",liveTime:"Live",leftTime:"Left Time",enterName:"Your Name:",enterGame:"Enter",nameInputHint:"Less than 8 letters",serverList:"Server List:",noServer:"No valid servers",enter:"Enter",backToHall:"Back",startGame:"Start",gameEnd:"Game End",eatenRank:"Eaten",weightRank:"Weight",playerName:"Name",rank:"Rank",serverDisconnect:"%s Server Disconnected",game:"Game",world:"World",backToLogin:"Back",gameAbnormal:"Unknown exception,game will exit.",enterChat:"Chat",send:"Send",chat:"Chat",clearMessages:"Clear",guideContent:"Using %s to controll your entity.",unknownError:"Unknown Error",timeout:"Timeout",connectError:"Connect Error",invalidData:"Invalid Data",uselessData:"Useless Data",uselessRequest:"Useless Request",invalidPlayer:"Invalid Player",invalidState:"Invalid State",agentError:"Agent Error",invaidGameToken:"Invalid Game Token",expiredGameToken:"Expired Game Token",invalidPlayerName:" Player Name Cannot Inlude Any Special Characters",emptyPlayerName:"Player Name Cannot Be Empty"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=r(p),v=n(5),m=function(e){function t(e){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){v.console.log("did mount component",this.constructor.name)}},{key:"componentWillReceiveProps",value:function(e){v.console.log("will receive props component",this.constructor.name)}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentWillUpdate",value:function(e,t){v.console.log("will update component",this.constructor.name)}},{key:"componentDidUpdate",value:function(e,t){v.console.log("did update component",this.constructor.name)}},{key:"componentWillUnmount",value:function(){v.console.log("did unmout component",this.constructor.name),v.eventDispatcher.removeListener(this)}},{key:"render",value:function(){return null}}]),t}(y.default.Component);t.default=m},function(e,t,n){e.exports=!n(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(21),i=n(85),o=n(68),a=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(17),i=n(8),o=n(33),a=n(22),s=function(e,t,n){var u,l,c,f=e&s.F,d=e&s.G,h=e&s.S,p=e&s.P,y=e&s.B,v=e&s.W,m=d?i:i[t]||(i[t]={}),g=m.prototype,k=d?r:h?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(l=!f&&k&&void 0!==k[u])&&u in m||(c=l?k[u]:n[u],m[u]=d&&"function"!=typeof k[u]?n[u]:y&&l?o(c,r):v&&k[u]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((m.virtual||(m.virtual={}))[u]=c,e&s.R&&g&&!g[u]&&a(g,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(12),y=r(p),v=n(3),m=r(v),g=n(15),k=r(g),b=n(47),_=r(b),w=n(6),C=r(w),x=n(9),E=r(x),M=n(5),S=function(e){function t(e){(0,l.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.node=null,n.mouseMoveHandler=n.onMouseMoveTitle.bind(n),n.mouseDownHandler=n.onMouseDownTitle.bind(n),n.mouseUpHandler=n.onMouseUpTitle.bind(n),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentWillMount",this).call(this),this.state||(this.state={}),this.state.dialogContainerClassName=[E.default.dialogContainer,E.default.aniScaleToMax]}},{key:"componentDidUpdate",value:function(e,n){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentDidUpdate",this).call(this),this.openDialog()}},{key:"componentDidMount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentDidMount",this).call(this),this.node=document.createElement("div"),this.node.className=E.default.dialog,document.body.appendChild(this.node),this.openDialog(),this.titleContainer&&this.titleContainer.addEventListener("mousedown",this.mouseDownHandler,!1)}},{key:"componentWillUnmount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentWillUnmount",this).call(this),this.titleContainer&&this.titleContainer.removeEventListener("mousedown",this.mouseDownHandler),this.removeEventListeners(),this.closeDialog()}},{key:"openDialog",value:function(){var e=this,t=[];if(this.state.title&&t.push(C.default.createElement("div",{ref:function(t){return e.titleContainer=t},className:E.default.dialogTitle},C.default.createElement("h4",null,this.state.title,!this.state.hideClose&&C.default.createElement("svg",{onClick:this.onClickClose.bind(this),"aria-hidden":"true"},C.default.createElement("use",{xlinkHref:"#icon-close"}))))),t.push(C.default.createElement("div",{className:E.default.dialogContent},C.default.createElement("div",null,this.renderContent()))),this.state.btns){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(this.state.btns);!(r=(s=u.next()).done);r=!0)!function(){var t=s.value;n.push(C.default.createElement("button",{disabled:t.disable,ref:function(n){return e["btn"+t.name]=n},onClick:t.onClick,className:t.className},t.title))}()}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}t.push(C.default.createElement("div",{className:E.default.dialogButtons},C.default.createElement("div",null,n)))}_.default.unstable_renderSubtreeIntoContainer(this,C.default.createElement("div",{style:this.state.style,ref:function(t){return e.dialogContainer=t},className:this.state.dialogContainerClassName.join(" ")},t),this.node)}},{key:"closeDialog",value:function(){this.node&&(_.default.unmountComponentAtNode(this.node),document.body.removeChild(this.node),this.node=null)}},{key:"prepareForClose",value:function(e){this.setState({dialogContainerClassName:[E.default.dialogContainer,E.default.aniScaleToMin]}),M.scheduler.scheduleOnce(500,e)}},{key:"renderContent",value:function(){return null}},{key:"render",value:function(){return null}},{key:"onMouseDownTitle",value:function(e){this.startX=e.screenX,this.startY=e.screenY;var t=window.getComputedStyle(this.dialogContainer),n=t.getPropertyValue("transform").split(",",6);this.translateX=parseInt(n[4]),this.translateY=parseInt(n[5]),document.addEventListener("mousemove",this.mouseMoveHandler,!1),document.addEventListener("mouseup",this.mouseUpHandler,!1),e.stopPropagation();var r=this.dialogContainer.parentElement,i=this.dialogContainer.getBoundingClientRect();this.translateMinX=-r.clientWidth/2,this.translateMaxX=r.clientWidth/2-i.width,this.translateMinY=-r.clientHeight/2,this.translateMaxY=r.clientHeight/2-i.height}},{key:"onMouseUpTitle",value:function(e){this.removeEventListeners(),e.stopPropagation()}},{key:"onMouseMoveTitle",value:function(e){var t=e.screenX-this.startX+this.translateX,n=e.screenY-this.startY+this.translateY;t<this.translateMinX?t=this.translateMinX:t>this.translateMaxX&&(t=this.translateMaxX),n<this.translateMinY?n=this.translateMinY:n>this.translateMaxY&&(n=this.translateMaxY),this.dialogContainer.style.transform="translate3d("+t+"px, "+n+"px, 0)",e.preventDefault(),e.stopPropagation()}},{key:"removeEventListeners",value:function(){this.titleContainer&&(document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler))}},{key:"onClickClose",value:function(){this.prepareForClose(this.props.onClickClose.bind(this))}}]),t}(k.default);t.default=S},function(e,t,n){var r=n(27);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(18),i=n(40);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(57),i=n(37);e.exports=function(e){return r(i(e))}},function(e,t,n){(function(r){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function u(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}t=e.exports=n(216),t.log=a,t.formatArgs=o,t.save=s,t.load=u,t.useColors=i,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(u())}).call(t,n(228))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"destructor",value:function(){u.eventDispatcher.removeListener(this)}},{key:"update",value:function(e){}},{key:"fixedUpdate",value:function(e){}},{key:"handleCmd",value:function(e){}}]),e}();t.default=l},function(e,t,n){e.exports={default:n(170),__esModule:!0}},function(e,t){e.exports={}},function(e,t,n){(function(e){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=g[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(m)return o(e,n,r);var i=new Uint8Array(1);return i[0]=g[e.type],r(new _([i.buffer,e.data]))}function s(e){try{e=p.decode(e)}catch(e){return!1}return e}function u(e,t,n){for(var r=new Array(e.length),i=h(e.length,n),o=0;o<e.length;o++)!function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})}(o,e[o],i)}var l,c=n(223),f=n(98),d=n(111),h=n(110),p=n(237);e&&e.ArrayBuffer&&(l=n(164));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),v="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=y||v;t.protocol=3;var g=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},k=c(g),b={type:"error",data:"parser error"},_=n(165);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var u=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&u instanceof ArrayBuffer)return i(t,n,s);if(_&&u instanceof e.Blob)return a(t,n,s);if(u&&u.base64)return r(t,s);var l=g[t.type];return void 0!==t.data&&(l+=o?p.encode(String(t.data)):String(t.data)),s(""+l)},t.encodeBase64Packet=function(n,r){var i="b"+t.packets[n.type];if(_&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s[l];a=String.fromCharCode.apply(null,u)}return i+=e.btoa(a),r(i)},t.decodePacket=function(e,n,r){if(void 0===e)return b;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=s(e)))return b;var i=e.charAt(0);return Number(i)==i&&k[i]?e.length>1?{type:k[i],data:e.substring(1)}:{type:k[i]}:b}var o=new Uint8Array(e),i=o[0],a=d(e,1);return _&&"blob"===n&&(a=new _([a])),{type:k[i],data:a}},t.decodeBase64Packet=function(e,t){var n=k[e.charAt(0)];if(!l)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=l.decode(e.substr(1));return"blob"===t&&_&&(r=new _([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!a&&n,!0,function(e){r(null,i(e))})}"function"==typeof n&&(r=n,n=null);var a=f(e);return n&&a?_&&!m?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void u(e,o,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==e)return r(b,0,1);for(var o,a,s="",u=0,l=e.length;u<l;u++){var c=e.charAt(u);if(":"!=c)s+=c;else{if(""==s||s!=(o=Number(s)))return r(b,0,1);if(a=e.substr(u+1,o),s!=a.length)return r(b,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),b.type==i.type&&b.data==i.data)return r(b,0,1);if(!1===r(i,u+o,l))return}u+=o,s=""}}return""!=s?r(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}if(!e.length)return n(new ArrayBuffer(0));u(e,r,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,_){var u=new _([t.buffer,s.buffer,e]);n(null,u)}})}u(e,r,function(e,t){return n(new _(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),u=0===s[0],l="",c=1;255!=s[c];c++){if(l.length>310){a=!0;break}l+=s[c]}if(a)return r(b,0,1);i=d(i,2+l.length),l=parseInt(l);var f=d(i,0,l);if(u)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(e){var h=new Uint8Array(f);f="";for(var c=0;c<h.length;c++)f+=String.fromCharCode(h[c])}o.push(f),i=d(i,l)}var p=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,p)})}}).call(t,n(10))},function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r=n(179);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(91),i=n(55);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),u=n(5),l=function(){function e(){(0,o.default)(this,e),u.eventDispatcher.addListener(null,"runtime_error",this,this.onRuntimeError)}return(0,s.default)(e,[{key:"onRuntimeError",value:function(){}},{key:"destructor",value:function(){u.eventDispatcher.removeListener(this)}}]),e}();t.default=l},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(21),i=n(196),o=n(55),a=n(64)("IE_PROTO"),s=function(){},u=function(){var e,t=n(84)("iframe"),r=o.length;for(t.style.display="none",n(190).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(18).f,i=n(26),o=n(13)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(37);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(199)(!0);n(58)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(203);for(var r=n(17),i=n(22),o=n(30),a=n(13)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t,n){e.exports={default:n(168),__esModule:!0}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(28),y=r(p),v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return r.mapLogic=e,r.entity=n,r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"handleAction",value:function(e,t,n){return!1}},{key:"update",value:function(e){}},{key:"fixedUpdate",value:function(e){}}]),t}(y.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(29),o=r(i),a=n(148),s=r(a);e.exports=(0,o.default)({},s.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(29),o=r(i),a=n(151),s=r(a);e.exports=(0,o.default)({},s.default)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(29),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(160),o=r(i),a=n(159),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){var r=n(54),i=n(13)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(33),i=n(192),o=n(191),a=n(21),s=n(67),u=n(94),l={},c={},t=e.exports=function(e,t,n,f,d){var h,p,y,v,m=d?function(){return e}:u(e),g=r(n,f,t?2:1),k=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(h=s(e.length);h>k;k++)if((v=t?g(a(p=e[k])[0],p[1]):g(e[k]))===l||v===c)return v}else for(y=m.call(e);!(p=y.next()).done;)if((v=i(y,g,p.value,t))===l||v===c)return v};t.BREAK=l,t.RETURN=c},function(e,t,n){var r=n(54);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(59),i=n(19),o=n(93),a=n(22),s=n(26),u=n(30),l=n(193),c=n(41),f=n(90),d=n(13)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,y,v,m,g){l(n,t,y);var k,b,_,w=function(e){if(!h&&e in M)return M[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",x="values"==v,E=!1,M=e.prototype,S=M[d]||M["@@iterator"]||v&&M[v],T=S||w(v),L=v?x?w("entries"):T:void 0,D="Array"==t?M.entries||S:S;if(D&&(_=f(D.call(new e)))!==Object.prototype&&(c(_,C,!0),r||s(_,d)||a(_,d,p)),x&&S&&"values"!==S.name&&(E=!0,T=function(){return S.call(this)}),r&&!g||!h&&!E&&M[d]||a(M,d,T),u[t]=T,u[C]=p,v)if(k={values:x?T:w("values"),keys:m?T:w("keys"),entries:L},g)for(b in k)b in M||o(M,b,k[b]);else i(i.P+i.F*(h||E),t,k);return k}},function(e,t){e.exports=!0},function(e,t,n){var r=n(43)("meta"),i=n(27),o=n(26),a=n(18).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(25)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},h=function(e){return l&&p.NEED&&u(e)&&!o(e,r)&&c(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(e,t,n){var r=n(39),i=n(40),o=n(23),a=n(68),s=n(26),u=n(85),l=Object.getOwnPropertyDescriptor;t.f=n(16)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(19),i=n(8),o=n(25);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(65)("keys"),i=n(43);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(17),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(66),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(27);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(17),i=n(8),o=n(59),a=n(70),s=n(18).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(13)},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(31),o=n(32);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(t){var r=n(224);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,n(10))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t,n){function r(){}function i(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=d.stringify(e.data)),f("encoded %j as %s",e,n),n}function o(e,t){function n(e){var n=p.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}p.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return c();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==e.charAt(r+1))for(n.nsp="";++r;){var o=e.charAt(r);if(","==o)break;if(n.nsp+=o,r==e.length)break}else n.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var o=e.charAt(r);if(null==o||Number(o)!=o){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}return e.charAt(++r)&&(n=u(n,e.substr(r))),f("decoded %s as %j",e,n),n}function u(e,t){try{e.data=d.parse(t)}catch(e){return c()}return e}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:t.ERROR,data:"parser error"}}var f=n(233)("socket.io-parser"),d=n(225),h=n(232),p=n(231),y=n(105);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){f("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type?o(e,n):n([i(e)])},h(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!y(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(3),y=r(p),v=n(48),m=r(v),g=n(7),k=r(g),b=(n(5),k.default.epsilon),_=Math.abs,w=Math.sqrt,C=k.default.lifeCycle,x=function(e){function t(e,n){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n))}return(0,y.default)(t,e),(0,f.default)(t,[{key:"fixedUpdate",value:function(e){if(this.entity.getLifeCycle()==C.live){var t=this.entity.getFixedPosition(),n=this.entity.getRadius(),r=this.mapLogic.getEntities(),i=!0,a=!1,s=void 0;try{for(var u,l=(0,o.default)(r);!(i=(u=l.next()).done);i=!0){var c=u.value;if(c!=this.entity&&c.getRes().isFood&&c.getLifeCycle()==C.live){var f=c.getRadius(),d=c.getFixedPosition(),h=t.x-d.x,p=t.y-d.y;if(w(h*h+p*p)-n-f<=b){var y=n-f;_(y)<=b||y<0?c.eat(this.entity):this.entity.eat(c)}}}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}}}}]),t}(m.default);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(12),h=r(d),p=n(3),y=r(p),v=n(48),m=r(v),g=n(49),k=r(g),b=n(7),_=r(b),w=n(5),C=_.default.epsilon,x=Math.abs,E=_.default.lifeCycle,M=w.util.shadowCopy,S=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.direction=null,r.speed=r.entity.getRes().speed,r.startPosition=r.entity.getPosition(),r}return(0,y.default)(t,e),(0,l.default)(t,[{key:"destructor",value:function(){(0,h.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"destructor",this).call(this)}},{key:"getDirection",value:function(){return this.direction}},{key:"getSpeed",value:function(){return this.speed}},{key:"handleAction",value:function(e,t,n){var r=w.gameManager.getRunningTime(),i=r-n;if(this.update(-i),e==k.default.moveDown)this.direction="y",this.speed=x(this.speed);else if(e==k.default.moveUp)this.direction="y",this.speed=-x(this.speed);else if(e==k.default.moveLeft)this.direction="x",this.speed=-x(this.speed);else if(e==k.default.moveRight)this.direction="x",this.speed=x(this.speed);else{if(e!=k.default.stand)return!1;this.direction=null}var o=this.entity.getPosition();return this.startPosition=M(o),this.startTime=n,this.update(i),w.eventDispatcher.emit(this.entity,"entity_changeDirection",this),!0}},{key:"update",value:function(e){if(this.direction&&this.speed){var t=this.direction;this.entity.getPosition()[t]+=this.speed*e}}},{key:"fixedUpdate",value:function(e){var t=this.entity.getLifeCycle();if(t==E.live||t==E.init){var n=this.direction,r=w.gameManager.getRunningTime(),i=r%e,o=r-i-this.startTime,a=M(this.startPosition);this.direction&&(a[n]+=this.speed*o),this.entity.setFixedPosition(a);var s=this.entity.getMaxPosition()[n],u=this.entity.getMinPosition()[n],l=a[n]-s;l>C?(a[n]=s,this.direction=null,this.entity.setPosition(M(a))):(l=a[n]-u)<C&&(a[n]=u,this.direction=null,this.entity.setPosition(M(a)))}}}]),t}(m.default);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(3),y=r(p),v=n(48),m=r(v),g=n(7),k=r(g),b=(n(5),k.default.lifeCycle),_=k.default.epsilon,w=Math.sqrt,C=function(e){function t(e,n){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n))}return(0,y.default)(t,e),(0,f.default)(t,[{key:"fixedUpdate",value:function(e){if(this.entity.getLifeCycle()==b.live){var t=this.entity.getFixedPosition(),n=this.entity.getRadius(),r=this.mapLogic.getEntities(),i=!0,a=!1,s=void 0;try{for(var u,l=(0,o.default)(r);!(i=(u=l.next()).done);i=!0){var c=u.value;if(c!=this.entity&&c.getLifeCycle()==b.live){var f=c.getRadius(),d=c.getFixedPosition(),h=t.x-d.x,p=t.y-d.y;if(w(h*h+p*p)-n-f<=_)return void this.entity.eat(c)}}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}}}}]),t}(m.default);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=(r(p),n(14)),v=r(y),m=n(20),g=r(m),k=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={hideClose:!0,title:v.default.notice,btns:[{title:v.default.confirm,onClick:n.onClickClose.bind(n),name:"Confirm"}]},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"renderContent",value:function(){return this.props.children}}]),t}(g.default);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=r(i),a=n(46),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(75),h=r(d),p=function(){function e(){(0,l.default)(this,e)}return(0,f.default)(e,null,[{key:"format",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=-1;return e.replace(/%s/g,function(){return n[++i]})}},{key:"time",value:function(){return Date.now()}},{key:"setSeed",value:function(e){(0,h.default)(e,{global:!0})}},{key:"randomInt",value:function(e,t){return t||(t=e,e=0),e+Math.floor(Math.random()*(t-e))}},{key:"randomFromArray",value:function(t){return t[e.randomInt(t.length)]}},{key:"timeFormat",value:function(e,t){"number"==typeof e&&(e=new Date(e)),t||(t="yyyy-MM-dd hh:mm:ss");var n={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()},r=/(y{1,4}|M{1,2}|d{1,2}|h{1,2}|m{1,2}|s{1,2})/g;return t.replace(r,function(e){var t="0"+n[e[0]];return t.slice(-Math.min(t.length,e.length))})}},{key:"toFixed",value:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}},{key:"getRadian",value:function(e,t,n,r){var i=e-n,o=t-r,a=Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),s=Math.acos(i/a);return t>r?2*Math.PI-s:s}},{key:"request",value:function(e){var t=new XMLHttpRequest;if(t.responseType="json",t.onreadystatechange=function(){4!=t.readyState||200!=t.status&&304!=t.status||e.cb&&e.cb(!0,t.response)},t.timeout=e.timeout||5e3,e.cb&&(t.ontimeout=e.cb.bind(null,!1,"timeout"),t.onerror=e.cb.bind(null,!1)),e.header)for(var n in e.header)t.setRequestHeader(n,e.header[n]);t.open(e.method,e.url,!0),t.setRequestHeader("Content-Type","application/json;charset=utf-8"),t.send((0,s.default)(e.data))}},{key:"shadowCopy",value:function(e){return(0,o.default)({},e)}},{key:"mergeSort",value:function(e,t){function n(e,r,i){if(!(r>=i)){var o=Math.floor((r+i)/2);for(n(e,r,o),n(e,o+1,i);r<=o&&o+1<=i;)if(t(e[r],e[o+1]))++r;else{for(var a=e[o+1],s=o;s>=r;--s)e[s+1]=e[s];e[r]=a,++o}}}n(e,0,e.length-1)}}]),e}();t.default=p},function(e,t,n){e.exports={default:n(172),__esModule:!0}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(27),i=n(17).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(16)&&!n(25)(function(){return 7!=Object.defineProperty(n(84)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(54);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(23),i=n(89).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(91),i=n(55).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(26),i=n(42),o=n(64)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(26),i=n(23),o=n(182)(!1),a=n(64)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(22);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){e.exports=n(22)},function(e,t,n){var r=n(53),i=n(13)("iterator"),o=n(30);e.exports=n(8).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t){},function(e,t,n){(function(e){function r(t){var n=!1,r=!1,s=!1!==t.jsonp;if(e.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),n=t.hostname!==location.hostname||l!==t.port,r=t.secure!==u}if(t.xdomain=n,t.xscheme=r,"open"in new i(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new a(t)}var i=n(72),o=n(221),a=n(220),s=n(222);t.polling=r,t.websocket=s}).call(t,n(10))},function(e,t,n){function r(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(71),o=n(73),a=n(31),s=n(36),u=n(108),l=n(24)("engine.io-client:polling");e.exports=r;var c=function(){return null!=new(n(72))({xdomain:!1}).responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||t()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n(e[o]))return!0}return!1}return n(e)}var i=n(100);e.exports=r}).call(t,n(10))},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var i=n(217),o=n(104),a=n(32),s=n(74),u=n(103),l=n(82),c=n(24)("socket.io-client:manager"),f=n(99),d=n(163),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=u(n,"open",function(){r.onopen(),e&&e()}),a=u(n,"error",function(t){if(c("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;c("connect attempt will timeout after %d",s);var l=setTimeout(function(){c("connect attempt timed out after %d",s),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(a),this},r.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",l(this,"ondata"))),this.subs.push(u(e,"ping",l(this,"onping"))),this.subs.push(u(e,"pong",l(this,"onpong"))),this.subs.push(u(e,"error",l(this,"onerror"))),this.subs.push(u(e,"close",l(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~f(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new o(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.engine.id}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i=n(74),o=n(32),a=n(236),s=n(103),u=n(82),l=n(24)("socket.io-client:socket"),c=n(98);e.exports=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",u(this,"onopen")),s(e,"packet",u(this,"onpacket")),s(e,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(f.hasOwnProperty(e))return d.apply(this,arguments),this;var t=a(arguments),n=i.EVENT;c(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){l("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:i.CONNECT,query:this.query}):this.packet({type:i.CONNECT}))},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);l("sending ack %j",r);var o=c(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,n(10))},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){var t="";do{t=s[e%u]+t,e=Math.floor(e/u)}while(e>0);return t}function i(e){var t=0;for(f=0;f<e.length;f++)t=t*u+l[e.charAt(f)];return t}function o(){var e=r(+new Date);return e!==a?(c=0,a=e):e+"."+r(c++)}for(var a,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u=64,l={},c=0,f=0;f<u;f++)l[s[f]]=f;o.encode=r,o.decode=i,e.exports=o},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./logic_state_eat":76,"./logic_state_eat.js":76,"./logic_state_move":77,"./logic_state_move.js":77,"./logic_state_split":78,"./logic_state_split.js":78};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=109},function(e,t){function n(e,t,n){function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=n):0!==i.count||o||t(null,r)}var o=!1;return n=n||r,i.count=e,0===e?t():i}function r(){}e.exports=n},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(157),o=r(i),a=n(46),s=r(a),u=n(2),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(0),y=r(p),v=n(1),m=r(v),g=n(7),k=r(g),b=function(){function e(){(0,y.default)(this,e)}return(0,m.default)(e,[{key:"set",value:function(e,t){}},{key:"get",value:function(e){}}]),e}(),_=function(e){function t(){return(0,y.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,m.default)(t,[{key:"set",value:function(e,t){window.localStorage.setItem(e,(0,s.default)(t))}},{key:"get",value:function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}}]),t}(b),w={localStorage:_};e.exports=w[k.default.cacheImpl||(0,o.default)(w)[0]]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),u=function(){function e(){(0,o.default)(this,e),this.clear()}return(0,s.default)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}},{key:"clear",value:function(){this.cache={}}}]),e}();t.default=u},function(e,t,n){"use strict";var r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;e.exports={platform:r.test(navigator.userAgent)?"mobile":"pc"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=n(47),h=r(d),p=n(5),y=function(){function e(){(0,s.default)(this,e),this.stage=document.createElement("div"),this.stage.id=f.default.container,this.runningRenderer=null,this.frameCount=0,this.dtTotal=0,this.fpsRenderer=null,this.viewPort=new p.Rect,this.worldSize=new p.Size,document.body.appendChild(this.stage),this.stageSize=new p.Size(this.stage.clientWidth,this.stage.clientHeight),window.addEventListener("resize",this.onStageSizeChanged.bind(this))}return(0,l.default)(e,[{key:"showStat",value:function(e){e?this.fpsRenderer||(this.fpsRenderer=document.createElement("div"),this.fpsRenderer.id=f.default.stat,document.body.appendChild(this.fpsRenderer),this.timerID=p.scheduler.schedule(0,this.update.bind(this))):this.fpsRenderer&&(this.stage.removeChild(this.fpsRenderer),this.fpsRenderer=null,p.scheduler.unschedule(this.timerID),this.timerID=null)}},{key:"update",value:function(e){if(this.fpsRenderer&&(++this.frameCount,this.dtTotal+=e,this.dtTotal>500)){var t=(1e3/this.dtTotal*this.frameCount).toFixed(2)+"FPS ",n=p.netManager.getConnectionsLag(),r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(n);!(r=(s=u.next()).done);r=!0){var l=s.value;t+=l.name+l.lag+"MS "}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}this.fpsRenderer.innerText=t,this.frameCount=0,this.dtTotal=0}this.runningRenderer&&this.runningRenderer.update&&this.runningRenderer.update(e)}},{key:"getRunningRenderer",value:function(){return this.runningRenderer}},{key:"replaceRenderer",value:function(e){this.runningRenderer=h.default.render(e,this.stage)}},{key:"getStageSize",value:function(){return this.stageSize}},{key:"onStageSizeChanged",value:function(){this.stageSize=new p.Size(this.stage.clientWidth,this.stage.clientHeight),p.eventDispatcher.emit(this,"display_stage_size_changed",this.stageSize)}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(7),f=r(c),d=f.default.runningStates,h=function(){function e(){(0,s.default)(this,e),this.events={}}return(0,l.default)(e,[{key:"addListener",value:function(e,t,n,r,i){var a=this.events[t];if(a){var s=a.listeners,u=!0,l=!1,c=void 0;try{for(var f,h=(0,o.default)(s);!(u=(f=h.next()).done);u=!0){var p=f.value;if(p.observer==n&&p.state!=d.stop)throw new Error("")}}catch(e){l=!0,c=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}}else a={name:t,listeners:[],state:d.running},this.events[t]=a;a.listeners.push({target:e,observer:n,callback:r.bind(n),isOnce:i})}},{key:"addListenerOnce",value:function(e,t,n,r){this.addListener(e,t,n,r,!0)}},{key:"removeListener",value:function(e,t){function n(t){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(t.listeners);!(n=(a=s.next()).done);n=!0){var u=a.value;if(u.observer==e)return void(u.state=d.stop)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}if(t){var r=this.events[t];r&&n(r)}else for(var i in this.events)n(this.events[i])}},{key:"emit",value:function(e,t){var n=this.events[t];if(n){for(var r=n.listeners,i=r.length,o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];for(var u=0;u<i;++u){var l=r[u];l.state==d.stop?(r.splice(u,1),--i,--u):l.target&&l.target!=e||(l.isOnce&&(l.state=d.stop),l.callback.apply(l,[e].concat(a)))}}}}]),e}();t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(12),h=r(d),p=n(3),y=r(p),v=n(28),m=r(v),g=n(5),k=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return r.frameDataQueue=e,r.keyFrameIndex=0,r.keyFrameCmdIndex=0,r.keyFrameInterval=n,r}return(0,y.default)(t,e),(0,l.default)(t,[{key:"destructor",value:function(){(0,h.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"destructor",this).call(this)}},{key:"getFrameDataQueue",value:function(){return this.frameDataQueue}},{key:"getKeyFrameIndex",value:function(){return this.keyFrameIndex}},{key:"getKeyFrameDelta",value:function(){return this.frameDataQueue.length-this.keyFrameIndex}},{key:"createCmd",value:function(e,t){return{action:e,data:t,index:this.frameDataQueue.length}}},{key:"pushBackFrameData",value:function(e){this.frameDataQueue.push(e)}},{key:"update",value:function(e){var t=this.frameDataQueue.length;g.console.assert(this.keyFrameIndex<t);for(var n=g.gameManager.getRunningTime(),r=this.frameDataQueue[this.keyFrameIndex],i=r.cmds,o=i.length;this.keyFrameCmdIndex<o;){var a=i[this.keyFrameCmdIndex];if(!(n>=a.time))return;++this.keyFrameCmdIndex,g.gameManager.handleCmd(a)}n-(r.index+1)*this.keyFrameInterval>=0&&(++this.keyFrameIndex,this.keyFrameCmdIndex=0)}}]),t}(m.default);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(49),y=r(p),v=n(28),m=r(v),g=n(5),k=n(7),b=function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this))}return(0,h.default)(t,e),(0,l.default)(t,[{key:"onKeyEvent",value:function(e){}}]),t}(m.default),_=function(e){function t(){(0,s.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.actions=[],e}return(0,h.default)(t,e),(0,l.default)(t,[{key:"onKeyEvent",value:function(e){var t=e.type,n=e.keyCode;if(n==k.keyCodes.arrowLeft)n=y.default.moveLeft;else if(n==k.keyCodes.arrowUp)n=y.default.moveUp;else if(n==k.keyCodes.arrowRight)n=y.default.moveRight;else{if(n!=k.keyCodes.arrowDown)return!0;n=y.default.moveDown}if("keyup"==t){for(var r in this.actions)if(this.actions[r]==n){this.actions.splice(r,1);var i=this.actions.length;if(i<1)n=y.default.stand;else{if(r!=i)return!1;n=this.actions[i-1]}break}}else{if(this.actions[this.actions.length-1]==n)return!1;this.actions.push(n)}return g.gameManager.handleUserAction(n),!1}}]),t}(b);!function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}(0,h.default)(t,e),(0,l.default)(t,[{key:"onKeyEvent",value:function(e){}}])}(b),e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(12),y=r(p),v=n(3),m=r(v),g=n(28),k=r(g),b=n(7),_=r(b),w=n(5),C=_.default.lifeCycle,x=_.default.entityInitTime,E=_.default.eatAddRadiusRatio,M=function(e){function t(e,r,i,a,u){(0,l.default)(this,t);var c=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));c.mapLogic=e,c.position=a,c.fixedPosition=w.util.shadowCopy(a),c.id=r,c.res=i,c.lifeCycle=i.initState,c.liveTime=u?w.gameManager.getFixedUpdateLastTime()-u:0,c.attacker=null,c.rotation=0,c.eatenCount=0,c.setRadius(c.res.radius),c.states=[];var f=!0,d=!1,p=void 0;try{for(var y,v=(0,o.default)(c.res.states);!(f=(y=v.next()).done);f=!0){var m=y.value,g=n(109)("./logic_state_"+m).default;c.states.push(new g(e,c))}}catch(e){d=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}return c}return(0,m.default)(t,e),(0,f.default)(t,[{key:"destructor",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"destructor",this).call(this)}},{key:"getID",value:function(){return this.id}},{key:"setPlayerLogic",value:function(e){this.playerLogic=e}},{key:"getPlayerLogic",value:function(){return this.playerLogic}},{key:"getRes",value:function(){return this.res}},{key:"getLifeCycle",value:function(){return this.lifeCycle}},{key:"getAttacker",value:function(){return this.attacker}},{key:"eat",value:function(e){++this.eatenCount,this.setRadius(this.radius+e.getRadius()*E),e.die(this),w.eventDispatcher.emit(this,"entity_eat",e)}},{key:"die",value:function(e,t){this.attacker=e,this.lifeCycle=C.die,this.mapLogic.onEntityDie(this,e)}},{key:"getRadius",value:function(){return this.radius}},{key:"setRadius",value:function(e){var t=this.mapLogic.getSize();this.minPosition=new w.Vec2(e,e),this.maxPosition=new w.Vec2(t.width-e,t.height-e),this.radius=e}},{key:"getFixedPosition",value:function(){return this.fixedPosition}},{key:"setFixedPosition",value:function(e){this.fixedPosition=e}},{key:"getMaxPosition",value:function(){return this.maxPosition}},{key:"getMinPosition",value:function(){return this.minPosition}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"handleCmd",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(this.states);!(t=(i=a.next()).done);t=!0)if(i.value.handleAction(e.action,e.data,e.time))return}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"update",value:function(e){if(this.lifeCycle!=C.die){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(this.states);!(t=(i=a.next()).done);t=!0)i.value.update(e)}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}}},{key:"fixedUpdate",value:function(e){if(this.lifeCycle==C.init)this.liveTime+=e,this.liveTime>=x&&(this.lifeCycle=C.live);else{if(this.lifeCycle!=C.live)return;this.liveTime+=e}var t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(this.states);!(t=(i=a.next()).done);t=!0)i.value.fixedUpdate(e)}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"getEatenCount",value:function(){return this.eatenCount}},{key:"getLiveTime",value:function(){return this.liveTime}},{key:"getName",value:function(){return this.playerLogic?this.playerLogic.getName():this.res.name}}]),t}(k.default);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(3),y=r(p),v=n(119),m=r(v),g=n(145),k=r(g),b=n(7),_=r(b),w=n(28),C=r(w),x=n(5),E=_.default.lifeCycle,M=[],S=Math.floor;for(var T in k.default){var L=k.default[T];L.probability>0&&M.push(L)}var D=function(e){function t(e,n){(0,l.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return r.size=e,r.entities=[],r.activeEntities=[],r.idCursor=0,r.updateRank=!1,r.createRandomEntities(n),r}return(0,y.default)(t,e),(0,f.default)(t,[{key:"getEntities",value:function(){return this.entities}},{key:"getActiveEntities",value:function(){return this.activeEntities}},{key:"getSize",value:function(){return this.size}},{key:"createRandomEntities",value:function(e){for(var t=x.util.randomInt,n=this.size.width,r=this.size.height,i=0;i<e;++i){var a=t(100),s=!0,u=!1,l=void 0;try{for(var c,f=(0,o.default)(M);!(s=(c=f.next()).done);s=!0){var d=c.value;if((a-=d.probability)<=0){this.addEntity(d.id,new x.Vec2(t(n),t(r)));break}}}catch(e){u=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}}}},{key:"addEntity",value:function(e,t,n,r){t||(t=new x.Vec2(S(this.size.width/2),S(this.size.height/2)));var i=k.default[e],o=new m.default(this,++this.idCursor,i,t,r);this.entities.push(o),i.static||this.activeEntities.push(o),n&&(o.setPlayerLogic(n),n.setEntityLogic(o),this.updateRank=!0),x.eventDispatcher.emit(this,"map_entity_add",o)}},{key:"updatePlayerRank",value:function(){var e=x.gameManager.getPlayerLogics();x.util.mergeSort(e,function(e,t){var n=e.getEntityLogic(),r=t.getEntityLogic();return!(!n||r)||!(!n&&r)&&(n&&r?n.getRadius()>r.getRadius():e.getEnterTime()>t.getEnterTime())}),this.updateRank=!1,x.eventDispatcher.emit(this,"map_rank_update")}},{key:"onEntityDie",value:function(e,t){var n=e.getPlayerLogic();n&&(x.gameManager.onRemovePlayerCmd(n.getID()),n.setEntityLogic(null)),e.destructor(),x.eventDispatcher.emit(this,"map_entity_die",e),this.updateRank=!0}},{key:"forceDieEntity",value:function(e){e.getLifeCycle()!=E.die&&e.die(this,!0)}},{key:"update",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(this.activeEntities);!(t=(i=a.next()).done);t=!0)i.value.update(e)}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"fixedUpdate",value:function(e){for(var t=this.activeEntities.length,n=0;n<t;++n){var r=this.activeEntities[n];r.getLifeCycle()==E.die?(this.activeEntities.splice(n,1),--n,--t):r.fixedUpdate(e)}this.updateRank&&this.updatePlayerRank()}},{key:"handleCmd",value:function(e){var t=e.playerID,n=x.gameManager.getPlayerLogics(),r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(n);!(r=(s=u.next()).done);r=!0){var l=s.value;if(l.getID()==t){var c=l.getEntityLogic();if(c){c.handleCmd(e);break}}}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}}}]),t}(C.default);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(28),y=r(p),v=function(e){function t(e,n,r){(0,s.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return i.id=e,i.name=n,i.entity=null,i.enterTime=r,i}return(0,h.default)(t,e),(0,l.default)(t,[{key:"getEnterTime",value:function(){return this.enterTime}},{key:"getID",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"setEntityLogic",value:function(e){this.entity=e}},{key:"getEntityLogic",value:function(){return this.entity}}]),t}(y.default);t.default=v},function(e,t,n){"use strict";function r(){s||(a.scheduler.update(),requestAnimationFrame(r))}var i=n(46),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(5),s=!1;window.onerror=function(){return s=!0,a.eventDispatcher.emit(window,"runtime_error"),alert((0,o.default)(arguments)),!1},console.log(a.device.platform);var u=Math.floor(1e3/(a.device.platform,60));a.scheduler.setFPS(u),a.display.showStat(DEBUG),a.loginManager.enter(),requestAnimationFrame(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(3),y=r(p),v=n(35),m=r(v),g=n(49),k=r(g),b=n(7),_=r(b),w=n(117),C=r(w),x=n(120),E=r(x),M=n(121),S=r(M),T=n(118),L=r(T),D=n(50),P=r(D),A=n(6),O=r(A),j=n(129),R=r(j),B=n(5),N=_.default.fastForwardTimeScale,I=_.default.initFastForwardTimeScale,F=_.default.gameState,U=Math.min,G=function(e){function t(){(0,l.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return B.eventDispatcher.addListener(B.netManager,"netManager_message",e,e.onServerMessage),B.eventDispatcher.addListener(B.netManager,"netManager_error",e,e.onServerError),B.eventDispatcher.addListener(B.netManager,"netManager_disconnect",e,e.onServerDisconnect),e}return(0,y.default)(t,e),(0,f.default)(t,[{key:"enter",value:function(e,t,n,r){this.offlineMode=!1,this.selectedResID=r,this.state=F.pendding,B.netManager.connect("game",e+":"+t,"token="+n)}},{key:"update",value:function(e){if(!(this.leftTime<1))for(;e>0;){var t=this.cmdLogic.getKeyFrameDelta();if(t<1){if(this.state==F.initing)this.joinPlayer();else if(this.state!=F.pendding)return;if(this.scaleStartTime){var n=B.util.time()-this.scaleStartTime;B.console.log("end pendding",n,"ms"),B.scheduler.setTimeScale(1),this.scaleStartTime=null}return void(this.state=F.playing)}if(t>2)do{if(this.scaleStartTime)break;var r=void 0;if(this.state==F.playing)this.state=F.pendding,r=N;else{if(this.state!=F.initing)break;r=I}B.scheduler.setTimeScale(r),B.console.log("start fast forwarding,delta count",t),this.scaleStartTime=B.util.time()}while(!this);var i=this.keyFrameInterval,o=U(e,i);this.runningTime+=o,this.leftTime=this.gameEndTime-this.runningTime,this.leftTime<0&&(o+=this.leftTime,this.leftTime=0,this.runningTime=this.gameEndTime);var a=this.runningTime-this.fixedUpdateLastTime;a>=i&&(this.fixedUpdateLastTime+=i,this.mapLogic.fixedUpdate(i)),this.leftTime<1&&this.onSendGameData(),this.mapLogic.update(o),this.cmdLogic.update(o),e-=o}}},{key:"getRunningTime",value:function(e){return this.runningTime}},{key:"getFixedUpdateLastTime",value:function(){return this.fixedUpdateLastTime}},{key:"getMapLogic",value:function(){return this.mapLogic}},{key:"onKeyEvent",value:function(e){if(this.state!=F.playing||this.leftTime<1)return void B.console.log("game pendding,drop user action");this.controllLogic.onKeyEvent(e)||e.preventDefault()}},{key:"getPlayerLogics",value:function(){return this.playerLogics}},{key:"getPlayerLogic",value:function(e){for(var t in this.playerLogics)if(this.playerLogics[t].getID()==e)return this.playerLogics[t]}},{key:"getLocalPlayerLogic",value:function(){return this.localPlayerLogic}},{key:"getGameEndTime",value:function(){return this.gameEndTime}},{key:"getLeftTime",value:function(){return this.leftTime}},{key:"onServerMessage",value:function(e,t,n){switch(n.head){case P.default.createMapGC:this.onCreateMap(n);break;case P.default.frameDataGC:this.onGetFrameData(n);break;case P.default.abnormalGC:this.onAbnormal(n);break;case P.default.gameEndGC:this.onGameEnd(n)}}},{key:"onServerDisconnect",value:function(e,t){"game"==t&&this.state!=F.ended&&(this.state=F.ended,B.eventDispatcher.emit(this,"GameManager_disconnect"))}},{key:"onServerError",value:function(e,t){}},{key:"onCreateMap",value:function(e){var t=e.data;B.util.setSeed(t.seed),this.controllLogic=new L.default,this.gameEndTime=t.gameEndTime,this.keyFrameInterval=t.keyFrameInterval,this.startTime=t.startTime,this.cmdLogic=new C.default(t.frames,t.keyFrameInterval),this.mapLogic=new E.default(t.mapInitSize,t.mapInitEntityCount),this.playerLogics=[],this.runningTime=0,this.leftTime=this.gameEndTime,this.scaleStartTime=null,this.keyFrameInterval=t.keyFrameInterval,this.fixedUpdateLastTime=0,this.gameTimer=B.scheduler.schedule(0,this.update.bind(this)),this.state=F.initing,B.display.replaceRenderer(O.default.createElement(R.default,{manager:this}))}},{key:"joinPlayer",value:function(){var e=B.memCache.get("player_info"),t=this.cmdLogic.createCmd(k.default.joinPlayer,{name:e.name,resID:this.selectedResID,playerID:e.id});this.postCmd(t)}},{key:"onJoinPlayerCmd",value:function(e){var t=e.data,n=t.name,r=t.resID,i=t.playerID,o=new S.default(i,n,e.time);i==B.memCache.get("player_info").id&&(this.localPlayerLogic=o),this.playerLogics.push(o),this.mapLogic.addEntity(r,null,o,e.time)}},{key:"onRemovePlayerCmd",value:function(e){for(var t in this.playerLogics){var n=this.playerLogics[t];if(n.getID()==e){n==this.localPlayerLogic&&this.state==F.playing&&this.settlementGame();var r=n.getEntityLogic();return r&&this.mapLogic.forceDieEntity(r),void this.playerLogics.splice(t,1)}}}},{key:"handleUserAction",value:function(e,t){if(this.localPlayerLogic&&this.localPlayerLogic.getEntityLogic()){var n=this.cmdLogic.createCmd(e,t);this.postCmd(n)}}},{key:"postCmd",value:function(e){this.offlineMode?this.handleCmd(e):B.netManager.send("game",{head:P.default.frameDataCG,cmd:e})}},{key:"onGetFrameData",value:function(e){this.cmdLogic.pushBackFrameData(e.data)}},{key:"handleCmd",value:function(e){var t=e.action;t==k.default.joinPlayer?this.onJoinPlayerCmd(e):t==k.default.removePlayer?this.onRemovePlayerCmd(e.data.playerID):this.mapLogic.handleCmd(e)}},{key:"endGame",value:function(){B.console.log("game exit"),this.state=F.ended,B.netManager.disconnect("game"),this.controllLogic.destructor(),delete this.controllLogic,this.cmdLogic.destructor(),delete this.cmdLogic,this.mapLogic.destructor(),delete this.mapLogic;for(var e in this.playerLogics)this.playerLogics[e].destructor();delete this.playerLogics,this.gameTimer&&(B.scheduler.unschedule(this.gameTimer),delete this.gameTimer)}},{key:"onGameEnd",value:function(e){this.state=F.ended,B.eventDispatcher.emit(this,"GameManager_end",e.data)}},{key:"onSendGameData",value:function(){var e={rankList:[]},t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(this.playerLogics);!(t=(i=a.next()).done);t=!0){var s=i.value,u=s.getEntityLogic();e.rankList.push({id:s.getID(),playerName:s.getName(),eatenCount:u.getEatenCount(),weight:u.getRadius(),liveTime:u.getLiveTime(),position:u.getFixedPosition()})}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}B.netManager.send("game",{head:P.default.sendGameDataCG,data:e})}},{key:"settlementGame",value:function(){var e=this.localPlayerLogic.getEntityLogic(),t={weight:e.getRadius(),liveTime:e.getLiveTime(),eatenCount:e.getEatenCount(),attackerName:e.getAttacker().getName()};B.eventDispatcher.emit(this,"GameManager_settlement",t),this.localPlayerLogic=null}},{key:"backToHall",value:function(){this.endGame(),B.worldManager.showWorld()}},{key:"onAbnormal",value:function(e){B.eventDispatcher.emit(this,"GameManager_abnormal")}}]),t}(m.default);t.default=G},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=r(p),v=n(35),m=r(v),g=n(7),k=(r(g),n(5)),b=n(138),_=r(b),w=function(e){function t(){(0,s.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.serverList=[],e}return(0,h.default)(t,e),(0,l.default)(t,[{key:"requestWorldAddr",value:function(){k.util.request({url:window.loginAgent,method:"POST",cb:this.onGetWorldServer.bind(this)})}},{key:"enter",value:function(){this.requestWorldAddr(),k.display.replaceRenderer(y.default.createElement(_.default,{playerName:k.cache.get("player_name")}))}},{key:"onGetWorldServer",value:function(e,t){e&&t?(this.serverList=t.data.serverList,k.eventDispatcher.emit(this,"LoginManager_getWorldServerList")):k.scheduler.scheduleOnce(3e3,this.requestWorldAddr.bind(this))}},{key:"getWorldServerList",value:function(){return this.serverList}},{key:"enterWorld",value:function(e,t){k.cache.set("player_name",e);var n=this.serverList[1*t];k.worldManager.enter(n.addr,n.port,e),this.serverList=[]}}]),t}(m.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(3),y=r(p),v=n(35),m=r(v),g=n(229),k=r(g),b=n(50),_=r(b),w=n(146),C=r(w),x=n(5),E=function(e){function t(){(0,l.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.connections={},DEBUG&&x.scheduler.schedule(1e3,e.heartBeatTest.bind(e)),e}return(0,y.default)(t,e),(0,f.default)(t,[{key:"heartBeatTest",value:function(){for(var e in this.connections)this.connections[e].lastHeartBeatTime=x.util.time(),this.connections[e].socket.send({head:_.default.heartbeatCS})}},{key:"send",value:function(e,t){var n=this.connections[e];if(n){for(var r in _.default)if(_.default[r]==t.head)return x.console.log("send ",e,r,t),n.socket.send(t),!0;x.console.error("unknown protocol head ",e,t)}return!1}},{key:"getConnectionsLag",value:function(){var e=[];for(var t in this.connections)e.push({name:this.connections[t].name,lag:this.connections[t].lag});return e}},{key:"disconnectAll",value:function(){for(var e in this.connections)this.connections[e].socket.disconnect();this.connections={}}},{key:"disconnect",value:function(e){return!!this.connections[e]&&(this.connections[e].socket.disconnect(),delete this.connections[e],!0)}},{key:"connect",value:function(e,t,n){if(!this.connections[e]){x.console.log("trying to connect "+t+" "+n);var r=(0,k.default)(t,{reconnection:!1,query:n||"",forceNew:!0});return r.on("message",this.onMessage.bind(this,e)),r.on("connect",this.onConnect.bind(this,e)),r.on("connect_timeout",this.onConnectTimeout.bind(this,e)),r.on("connect_error",this.onConnectError.bind(this,e)),r.on("error",this.onError.bind(this,e)),r.on("disconnect",this.onDisconnect.bind(this,e)),this.connections[e]={name:e,addr:t,handshake:n,socket:r,lag:-1,lastHeartBeatTime:x.util.time()},e}}},{key:"onMessage",value:function(e,t){if("object"==(void 0===t?"undefined":(0,o.default)(t))&&"number"==typeof t.head){var n=this.getHeadStr(t.head);n&&!t.error?this.handleMessageData(e,n,t):this.handleMessageError(e,t.error)}else this.handleMessageError(e,C.default.unknownError)}},{key:"onConnect",value:function(e){var t=this.connections[e];t.lag=x.util.time()-t.lastHeartBeatTime,x.console.log("net on connect",e)}},{key:"onConnectTimeout",value:function(e,t){delete this.connections[e],this.handleMessageError(e,C.default.timeout)}},{key:"onConnectError",value:function(e,t){delete this.connections[e],this.handleMessageError(e,C.default.connectError)}},{key:"onError",value:function(e,t){delete this.connections[e],this.handleMessageError(e,t.error)}},{key:"onDisconnect",value:function(e){delete this.connections[e],x.console.log("net on disconnect",e),x.eventDispatcher.emit(this,"netManager_disconnect",e)}},{key:"handleMessageData",value:function(e,t,n){if(n.head==_.default.heartbeatSC){var r=this.connections[e];return void(r.lag=x.util.time()-r.lastHeartBeatTime)}n.head!=_.default.frameDataGC&&x.console.log("message",t,n),x.eventDispatcher.emit(this,"netManager_message",e,n)}},{key:"handleMessageError",value:function(e,t){var n=C.default.unknownError;for(var r in C.default)if(C.default[r]==t){n=r;break}x.console.error("error message ",e,n),x.eventDispatcher.emit(this,"netManager_error",e,{head:t,data:n})}},{key:"getHeadStr",value:function(e){for(var t in _.default)if(_.default[t]==e)return t}},{key:"onRuntimeError",value:function(){this.disconnectAll()}}]),t}(m.default);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(35),y=r(p),v=n(50),m=r(v),g=n(5),k=n(142),b=r(k),_=n(6),w=r(_),C=function(e){function t(){(0,s.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return g.eventDispatcher.addListener(g.netManager,"netManager_message",e,e.onServerMessage),g.eventDispatcher.addListener(g.netManager,"netManager_error",e,e.onServerError),g.eventDispatcher.addListener(g.netManager,"netManager_disconnect",e,e.onServerDisconnect),e}return(0,h.default)(t,e),(0,l.default)(t,[{key:"update",value:function(e){var t=g.memCache.get("time");g.memCache.set("time",t+e)}},{key:"enter",value:function(e,t,n){g.netManager.connect("world",e+":"+t,"playerName="+n)}},{key:"onServerMessage",value:function(e,t,n){switch(n.head){case m.default.playerInfoWC:this.onEnterWorld(n);break;case m.default.getGameServerWC:this.onGetGameServer(n);break;case m.default.newMessageLC:this.onGetNewMessage(n)}}},{key:"onServerDisconnect",value:function(e,t){"world"==t&&(g.memCache.get("player_info")?g.eventDispatcher.emit(this,"WorldManager_disconnect"):this.backToLogin())}},{key:"onServerError",value:function(e,t,n){}},{key:"onEnterWorld",value:function(e){var t=e.data;g.memCache.set("player_info",{id:t.playerID,name:t.playerName}),g.memCache.set("time",t.serverTime),g.scheduler.schedule(1e3,this.update.bind(this));var n=g.cache.get("chat_messages");this.chatMessages=n instanceof Array?n:[],g.netManager.connect("chat",t.chatServer.addr+":"+t.chatServer.port),this.showWorld()}},{key:"showWorld",value:function(){g.display.replaceRenderer(w.default.createElement(b.default,{manager:this}))}},{key:"startGame",value:function(){g.cache.get("isFinishGuide")?g.netManager.send("world",{head:m.default.getGameServerCW}):(g.cache.set("isFinishGuide",!0),g.eventDispatcher.emit(this,"WorldManager_showGuide"))}},{key:"onGetGameServer",value:function(e){var t=e.data.addr,n=e.data.port,r=e.data.token;g.gameManager.enter(t,n,r,1e4)}},{key:"backToLogin",value:function(){g.memCache.clear(),g.netManager.disconnect("world")||(g.netManager.disconnect("chat"),g.loginManager.enter())}},{key:"sendMessage",value:function(e){var t=g.memCache.get("player_info");g.netManager.send("chat",{head:m.default.newMessageCL,content:e,playerName:t.name,playerID:t.id})}},{key:"onGetNewMessage",value:function(e){this.chatMessages.push(e.data),g.cache.set("chat_messages",this.chatMessages),g.eventDispatcher.emit(this,"WorldManager_newMessage",e.data)}},{key:"clearMessagesCache",value:function(){this.chatMessages=[],g.cache.set("chat_messages",this.chatMessages)}}]),t}(y.default);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=(r(p),n(14)),v=r(y),m=n(20),g=r(m),k=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={title:v.default.confirm,btns:[{title:v.default.cancel,onClick:e.onClickCancel,name:"Cancel"},{title:v.default.confirm,onClick:e.onClickConfirm,name:"Confirm"}]},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"renderContent",value:function(){return this.props.children}}]),t}(g.default);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SaboteurEntityRenderer=t.PolygonEntityRenderer=t.CircleEntityRenderer=void 0;var i=n(2),o=r(i),a=n(4),s=r(a),u=n(3),l=r(u),c=n(0),f=r(c),d=n(1),h=r(d),p=n(7),y=r(p),v=n(5),m=Math.PI,g=2*m,k=Math.cos,b=Math.sin,_=Math.abs,w=y.default.entityInitTime,C=Math.PI,x=C/500/2,E=function(){function e(t,n){(0,f.default)(this,e),this.logic=t,this.mapRenderer=n,this.scale=1,this.rotation=0,v.eventDispatcher.addListener(this.logic,"entity_changeDirection",this,this.onChangeDirection),v.eventDispatcher.addListener(this.logic,"entity_eat",this,this.onEat)}return(0,h.default)(e,[{key:"onEat",value:function(e,t){}},{key:"onChangeDirection",value:function(e,t){var n=t.getDirection();if(n){var r=t.getSpeed();this.rotation=m*("x"==n?r>=0?0:1:r>=0?.5:1.5)}}},{key:"getLogic",value:function(){return this.logic}},{key:"draw",value:function(e){var t=this.mapRenderer.getViewPort(),n=this.logic.getRadius(),r=this.logic.getPosition(),i=r.x-n,o=r.y-n,a=2*n,s=2*n;if(!t.isIntersection2(i,o,a,s))return!1;var u=k(this.rotation),l=b(this.rotation);return e.setTransform(u*this.scale,l*this.scale,-l*this.scale,u*this.scale,r.x-t.x,r.y-t.y),!0}}]),e}(),M=(t.CircleEntityRenderer=function(e){function t(){var e;(0,f.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(r))),u=v.util.randomInt;return a.startTime=v.util.time(),a.color=new v.Color4B(u(256),u(256),u(256)),a.colorStr=null,a.name=a.logic.getName(),a}return(0,l.default)(t,e),(0,h.default)(t,[{key:"draw",value:function(e){if(!E.prototype.draw.call(this,e))return!1;e.beginPath();var t=v.util.time(),n=(t-this.startTime)%500,r=_(x*(n-250)),i=this.logic.getRadius();e.arc(0,0,i,r,-r-.15,!1),e.lineTo(i/-3,0);var o=t-this.startTime,a=void 0;o<=w?(o%=w/2,o=1-o/(w/4),this.color.a=_(o),a=this.color.toString()):(this.colorStr||(this.colorStr=this.color.toString()),a=this.colorStr),e.fillStyle=a,e.fill();var s=k(g-this.rotation),u=b(g-this.rotation);return e.transform(s*this.scale,u*this.scale,-u*this.scale,s*this.scale,0,0),e.textAlign="center",e.fillStyle="#ffffff",e.fillText(this.name,0,0),!0}}]),t}(E),t.PolygonEntityRenderer=function(e){function t(){var e;(0,f.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(r))),u=v.util.randomInt;return a.rotation=u(100*g)/100,a.sideCount=a.logic.getRes().ext.sideCount,a.radius=a.logic.getRadius(),a.color=new v.Color4B(u(256),u(256),u(256)),a.colorStr=a.color.toString(),a}return(0,l.default)(t,e),(0,h.default)(t,[{key:"draw",value:function(e){if(!E.prototype.draw.call(this,e))return!1;e.beginPath();for(var t=this.logic.getRadius(),n=g/this.sideCount,r=0;r<=this.sideCount;r++){var i=r*n;e.lineTo(t*k(i),t*b(i))}return e.fillStyle=this.colorStr,e.fill(),!0}}]),t}(E));t.SaboteurEntityRenderer=function(e){function t(){var e;(0,f.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(r)));return a.startTime=v.util.time(),a.rotateAniTime=a.logic.getRes().ext.rotateAniTime,a}return(0,l.default)(t,e),(0,h.default)(t,[{key:"draw",value:function(e){if(!M.prototype.draw.call(this,e))return!1;var t=v.util.time(),n=(t-this.startTime)%500;return this.rotation=g*n/this.rotateAniTime,!0}}]),t}(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(12),y=r(p),v=n(3),m=r(v),g=n(15),k=r(g),b=n(9),_=r(b),w=n(140),C=r(w),x=n(135),E=r(x),M=n(6),S=r(M),T=n(5),L=function(e){function t(e){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e={};return S.default.createElement("div",{className:_.default.scene},S.default.createElement(C.default,(0,o.default)({ref:"map"},e)),S.default.createElement(E.default,(0,o.default)({ref:"ui"},e)))}},{key:"componentDidMount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentDidMount",this).call(this)}},{key:"onClickExitGame",value:function(){T.gameManager.backToHall()}}]),t}(k.default);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=r(p),v=n(14),m=r(v),g=n(20),k=r(g),b=n(141),_=r(b),w=n(9),C=r(w),x=n(5),E=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={hideClose:!0,title:m.default.gameEnd,btns:[{title:m.default.backToHall,onClick:n.onClickBackToHall.bind(n),name:"BackToHall"}]},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"renderContent",value:function(){return y.default.createElement("div",null,y.default.createElement(_.default,{cacheContent:!0,contentAtIdx:this.contentAtIdx.bind(this),titles:[m.default.weightRank,m.default.eatenRank]}))}},{key:"contentAtIdx",value:function(e){var t=this.props.endData.rankList,n=void 0;0==e?n=function(e,t){return e.weight>t.weight}:1==e&&(n=function(e,t){return e.eatenCount>t.eatenCount}),x.util.mergeSort(t,n);var r=[];for(var i in t)r.push(y.default.createElement("div",null,y.default.createElement("span",null,1*i+1),y.default.createElement("span",null,t[i].playerName),y.default.createElement("span",null,x.util.toFixed(t[i].weight,1)),y.default.createElement("span",null,t[i].eatenCount)));return y.default.createElement("div",{className:C.default.gameEndDialog},y.default.createElement("div",null,y.default.createElement("span",null,m.default.rank),y.default.createElement("span",null,m.default.playerName),y.default.createElement("span",null,m.default.finalWeight),y.default.createElement("span",null,m.default.eatenCount)),r)}},{key:"onClickBackToHall",value:function(){this.prepareForClose(function(){x.gameManager.backToHall()})}}]),t}(k.default);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=r(p),v=n(14),m=r(v),g=n(20),k=r(g),b=n(5),_=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={title:m.default.gameSetting,btns:[{title:m.default.save,onClick:n.onClickSave.bind(n),name:"Save"},{title:m.default.close,onClick:n.onClickClose.bind(n),name:"Close"},{title:m.default.exitGame,onClick:n.onClickBackToHall.bind(n),name:"BackToHall"}],isShowSelectDialog:!1},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"renderContent",value:function(){return y.default.createElement("span",null,"nothing to set")}},{key:"onClickSave",value:function(){this.onClickClose()}},{key:"onClickBackToHall",value:function(){this.prepareForClose(function(){b.gameManager.backToHall()})}}]),t}(k.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(12),h=r(d),p=n(3),y=r(p),v=n(6),m=r(v),g=n(14),k=r(g),b=n(20),_=r(b),w=n(9),C=r(w),x=n(5),E=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={btns:[{title:k.default.continue,onClick:n.onClickContinue.bind(n),name:"Continue"},{title:k.default.backToHall,onClick:n.onClickBackToHall.bind(n),name:"BackToHall"}]},n.gameTimer=x.scheduler.schedule(1e3,n.update.bind(n)),n}return(0,y.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){(0,h.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"componentWillUnmount",this).call(this),x.scheduler.unschedule(this.gameTimer)}},{key:"update",value:function(){this.forceUpdate()}},{key:"renderContent",value:function(){var e=this.props.settlementData;return m.default.createElement("div",{className:C.default.gameSettlementDialog},m.default.createElement("h1",{dangerouslySetInnerHTML:{__html:x.util.format(k.default.eatenBy,"<span>"+e.attackerName+"</span>")}}),m.default.createElement("div",null,m.default.createElement("div",null,m.default.createElement("span",null,k.default.finalWeight),m.default.createElement("span",null,x.util.toFixed(e.weight,1)+k.default.mg)),m.default.createElement("div",null,m.default.createElement("span",null,k.default.eatenCount),m.default.createElement("span",null,e.eatenCount)),m.default.createElement("div",null,m.default.createElement("span",null,k.default.liveTime),m.default.createElement("span",null,x.util.timeFormat(e.liveTime,"mm:ss")))),m.default.createElement("div",null,m.default.createElement("span",null,k.default.leftTime),m.default.createElement("span",null,x.util.timeFormat(x.gameManager.getLeftTime(),"mm:ss"))))}},{key:"onClickContinue",value:function(){var e=this;this.prepareForClose(function(){e.props.onClickContinue()})}},{key:"onClickBackToHall",value:function(){this.prepareForClose(function(){x.gameManager.backToHall()})}}]),t}(_.default);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(3),y=r(p),v=n(15),m=r(v),g=n(6),k=r(g),b=n(9),_=r(b),w=n(5),C=n(147),x=(r(C),n(131)),E=r(x),M=n(127),S=r(M),T=n(14),L=r(T),D=function(e){function t(e){(0,l.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.state={toggle:document.body.clientWidth>450,isShowSetting:!1},w.eventDispatcher.addListener(e.mapLogic,"map_rank_update",n,n.onEatEntity),n}return(0,y.default)(t,e),(0,f.default)(t,[{key:"onEatEntity",value:function(e){this.setState({toggle:this.state.toggle})}},{key:"render",value:function(){var e=void 0,t=void 0;if(this.state.toggle){var n=w.gameManager.getPlayerLogics(),r=[],i=[],a=w.util.toFixed,s=n.length,u=s;u>10&&(u=10);for(var l=w.gameManager.getLocalPlayerLogic(),c=0;c<s;){var f=n[c],d=f.getEntityLogic();if(c<u)r.push(k.default.createElement("li",null,k.default.createElement("span",null,c+1),k.default.createElement("span",null,a(d.getRadius(),1),L.default.mg),k.default.createElement("span",null,f.getName())));else if(!l||i)break;f==l&&i.push(k.default.cloneElement(r[c])),++c}e=[k.default.createElement("ol",null,r),k.default.createElement("ol",null,i)],t={transform:"rotate(0)"}}else t={transform:"rotate(180deg)"};return k.default.createElement("div",{className:_.default.gameRankBoard},k.default.createElement("h4",{onClick:this.onClickFold.bind(this)},k.default.createElement("span",null,L.default.userRank,k.default.createElement("svg",{className:_.default.svgSprite,style:t,"aria-hidden":"true"},k.default.createElement("use",{xlinkHref:"#icon-unfold"}))),k.default.createElement("svg",{className:_.default.svgSprite,"aria-hidden":"true",onClick:this.onClickSetting.bind(this)},k.default.createElement("use",{xlinkHref:"#icon-setup"}))),e,this.state.isShowSetting&&k.default.createElement(E.default,(0,o.default)({onClickClose:this.onClickSettingClose.bind(this),onClickSave:this.onClickSettingSave.bind(this)},this.props)),this.state.isShowExitDialog&&k.default.createElement(S.default,(0,o.default)({},this.props,{onClickConfirm:this.onClickExitDialogConfirm.bind(this),onClickCancel:this.onClickExitDialogCancel.bind(this)}),L.default.exitConfirm))}},{key:"onClickFold",value:function(e){e.stopPropagation(),this.setState({toggle:!this.state.toggle})}},{key:"onClickSetting",value:function(e){e.stopPropagation(),this.setState({isShowSetting:!0})}},{key:"onClickSettingClose",value:function(e){this.setState({isShowSetting:!1})}},{key:"onClickSettingSave",value:function(e,t){this.setState({isShowSetting:!1})}},{key:"onClickExitDialogConfirm",value:function(){this.setState({isShowExitDialog:!1})}},{key:"onClickExitDialogCancel",value:function(){this.setState({isShowExitDialog:!1})}}]),t}(m.default);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(12),h=r(d),p=n(3),y=r(p),v=n(15),m=r(v),g=n(6),k=r(g),b=n(9),_=r(b),w=n(5),C=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.gameTimer=w.scheduler.schedule(1e3,n.update.bind(n)),n}return(0,y.default)(t,e),(0,l.default)(t,[{key:"update",value:function(e){this.setState({})}},{key:"componentWillUpdate",value:function(e,t){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){(0,h.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"componentWillUnmount",this).call(this),w.scheduler.unschedule(this.gameTimer)}},{key:"render",value:function(){return k.default.createElement("div",{className:_.default.gameTimer},w.util.timeFormat(w.gameManager.getLeftTime(),"mm:ss"))}}]),t}(m.default);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(12),y=r(p),v=n(3),m=r(v),g=n(15),k=r(g),b=n(6),_=r(b),w=n(9),C=r(w),x=n(133),E=r(x),M=n(134),S=r(M),T=n(132),L=r(T),D=n(130),P=r(D),A=n(79),O=r(A),j=n(137),R=r(j),B=n(14),N=r(B),I=n(5),F=function(e){function t(e){(0,l.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return I.eventDispatcher.addListener(I.gameManager,"GameManager_settlement",n,n.onGameSettlement),I.eventDispatcher.addListener(I.gameManager,"GameManager_end",n,n.onGameEnd),I.eventDispatcher.addListener(I.gameManager,"GameManager_disconnect",n,n.onGameDisonnected),I.eventDispatcher.addListener(I.gameManager,"GameManager_abnormal",n,n.onGameAbnormal),n.state={},n.keyEventHandler=I.gameManager.onKeyEvent.bind(I.gameManager),document.addEventListener("keydown",n.keyEventHandler),document.addEventListener("keyup",n.keyEventHandler),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillUnmount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentWillUnmount",this).call(this),document.removeEventListener("keydown",this.keyEventHandler),document.removeEventListener("keyup",this.keyEventHandler)}},{key:"render",value:function(){var e=void 0;return e=this.state.endData?_.default.createElement(P.default,(0,o.default)({},this.props,{endData:this.state.endData})):this.state.settlementData?_.default.createElement(L.default,(0,o.default)({},this.props,{onClickContinue:this.onClickGameContinue.bind(this),settlementData:this.state.settlementData})):_.default.createElement("div",null,"mobile"==I.device.platform&&_.default.createElement(R.default,null),_.default.createElement(S.default,this.props),_.default.createElement(E.default,this.props)),_.default.createElement("div",{className:C.default.gameUI},e,this.state.abnormalHint&&_.default.createElement(O.default,{onClickClose:this.clickExitGame.bind(this)},this.state.abnormalHint),this.state.exitHint&&_.default.createElement(O.default,{onClickClose:this.clickExitGame.bind(this)},this.state.exitHint))}},{key:"onClickGameContinue",value:function(){this.setState({settlementData:void 0}),I.gameManager.joinPlayer()}},{key:"onGameSettlement",value:function(e,t){this.setState({settlementData:t})}},{key:"onGameEnd",value:function(e,t){this.setState({endData:t})}},{key:"onGameNotice",value:function(e,t){this.setState({noticeStr:t})}},{key:"onGameDisonnected",value:function(){this.setState({exitHint:I.util.format(N.default.serverDisconnect,N.default.game)})}},{key:"onGameAbnormal",value:function(){this.setState({abnormalHint:I.util.format(N.default.gameAbnormal)})}},{key:"clickExitGame",value:function(){I.gameManager.backToHall()}}]),t}(k.default);t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=r(p),v=n(9),m=r(v),g=n(5),k=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return g.scheduler.scheduleOnce(3e3,n.props.willRemoveHint),n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:m.default.hint},this.props.hint)}}]),t}(y.default.Component);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(12),y=r(p),v=n(3),m=r(v),g=n(15),k=r(g),b=n(6),_=r(b),w=n(9),C=r(w),x=n(7),E=n(5),M=Math.PI,S=[1*M/4,3*M/4],T=[3*M/4,5*M/4],L=[5*M/4,7*M/4],D=["return","packup","enter","unfold"],P=function(e){function t(e){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentDidMount",this).call(this);var e=this.controllContainer;e.addEventListener("touchstart",this.onTouchStart.bind(this)),e.addEventListener("touchmove",this.onTouchMove.bind(this)),e.addEventListener("touchend",this.onTouchEnd.bind(this)),e.addEventListener("touchcancel",this.onTouchCancel.bind(this))}},{key:"render",value:function(){var e=this,t=[],n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(D);!(n=(a=s.next()).done);n=!0){var u=a.value;t.push(_.default.createElement("kbd",null,_.default.createElement("svg",{"aria-hidden":"true"},_.default.createElement("use",{xlinkHref:"#icon-"+u}))))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return _.default.createElement("div",{ref:function(t){return e.controllContainer=t},className:C.default.keyboard},_.default.createElement("div",{ref:function(t){return e.controllPanel=t}},t,_.default.createElement("span",{ref:function(t){return e.controllNode=t}})))}},{key:"onTouchStart",value:function(e){if(e.preventDefault(),!this.controllInfo){var t=this.controllPanel.getBoundingClientRect();this.lastCaptureMoveTime=0,this.boundingBox={x:t.left+t.width/2,y:t.top+t.height/2,width:t.width,height:t.height};var n=e.targetTouches[0];this.controllInfo={clientX:n.clientX,clientY:n.clientY,identifier:n.identifier,keyDownEvent:null,action:null};var r=n.clientX-this.boundingBox.x,i=n.clientY-this.boundingBox.y;this.controllPanel.style.transform="translate3d("+r+"px, "+i+"px, 0)"}}},{key:"onTouchMove",value:function(e){var t=this.getStartTouch(e.changedTouches);if(t){var n=E.util.time();if(!(n-this.lastCaptureMoveTime<x.keyboardMoveCaptureInterval)){this.lastCaptureMoveTime=n;var r=t.clientX,i=t.clientY,o=this.controllInfo.clientX,a=this.controllInfo.clientY,s=(r-o)/2,u=(i-a)/2;this.controllNode.style.transform="translate3d("+s+"px, "+u+"px, 0)";var l=E.util.getRadian(r,i,o,a),c=x.keyCodes.arrowRight;l>=T[0]&&l<T[1]?c=x.keyCodes.arrowLeft:l>=S[0]&&l<S[1]?c=x.keyCodes.arrowUp:l>=L[0]&&l<L[1]&&(c=x.keyCodes.arrowDown);var f=this.controllInfo.keyDownEvent;if(f){if(f.keyCode==c)return;this.releaseKey()}f=new KeyboardEvent("keydown",{}),Object.defineProperty(f,"keyCode",{get:function(){return c}}),this.controllInfo.keyDownEvent=f,document.dispatchEvent(f)}}}},{key:"onTouchEnd",value:function(e){e.preventDefault(),this.getStartTouch(e.changedTouches)&&(this.controllPanel.style.transform="translate3d(0, 0, 0)",this.controllNode.style.transform="translate3d(0, 0, 0)",this.releaseKey(),this.controllInfo=null)}},{key:"onTouchCancel",value:function(e){this.onTouchEnd(e)}},{key:"releaseKey",value:function(){if(this.controllInfo.keyDownEvent){var e=this.controllInfo.keyDownEvent.keyCode;this.controllInfo.keyDownEvent=null;var t=new KeyboardEvent("keyup",{});Object.defineProperty(t,"keyCode",{get:function(){return e}}),document.dispatchEvent(t)}}},{key:"getStartTouch",value:function(e){if(!this.controllInfo)return null;for(var t in e){var n=e[t];if(n.identifier==this.controllInfo.identifier)return n}return null}}]),t}(k.default);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(15),y=r(p),v=n(6),m=r(v),g=n(139),k=r(g),b=n(9),_=r(b),w=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={isShowEnterDialog:!0},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:_.default.scene},this.state.isShowEnterDialog&&m.default.createElement(k.default,this.props))}}]),t}(y.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(12),h=r(d),p=n(3),y=r(p),v=n(6),m=r(v),g=n(14),k=r(g),b=n(20),_=r(b),w=n(9),C=r(w),x=n(7),E=r(x),M=n(136),S=r(M),T=n(5),L=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={hideClose:!0,title:k.default.enterGame,btns:[{title:k.default.enter,onClick:n.onClickEnter.bind(n),disable:!0,name:"Enter"}],selectServerIdx:"0"},T.eventDispatcher.addListener(T.loginManager,"LoginManager_getWorldServerList",n,n.onGetWorldServerList),T.eventDispatcher.addListener(T.netManager,"netManager_error",n,n.onServerError),n}return(0,y.default)(t,e),(0,l.default)(t,[{key:"isValid",value:function(){return!(T.loginManager.getWorldServerList().length<1||!/^[a-zA-Z0-9]{1,8}$/.test(this.nameInput.value))}},{key:"componentWillUpdate",value:function(e,t){t.btns[0].disable=!this.isValid()}},{key:"componentDidMount",value:function(){(0,h.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"componentDidMount",this).call(this)}},{key:"onGetWorldServerList",value:function(){this.setState({})}},{key:"renderContent",value:function(){var e=this,t=T.loginManager.getWorldServerList(),n=[];for(var r in t){var i=t[r].name;n.push(m.default.createElement("option",{key:i,value:r},i))}return m.default.createElement("form",{className:C.default.enterDialog,onSubmit:this.onSubmitForm.bind(this)},m.default.createElement("label",{htmlFor:"name"},k.default.enterName),m.default.createElement("div",null,m.default.createElement("input",{autoComplete:"off",defaultValue:this.props.playerName,onInput:this.onInputName.bind(this),ref:function(t){return e.nameInput=t},id:"name",type:"text",placeholder:k.default.nameInputHint,maxLength:E.default.nameMaxLength}),this.state.hint&&m.default.createElement(S.default,{hint:this.state.hint,willRemoveHint:this.willRemoveHint.bind(this)})),m.default.createElement("label",{htmlFor:"server"},k.default.serverList),m.default.createElement("div",null,m.default.createElement("select",{id:"server",value:this.state.selectServerIdx,ref:function(t){return e.serverSelect=t},onChange:this.onSelectServer.bind(this)},n)))}},{key:"onInputName",value:function(e){this.setState({})}},{key:"onSelectServer",value:function(e){this.setState({selectServerIdx:e.target.value})}},{key:"onServerError",value:function(e,t,n){this.setState({hint:k.default[n.data]})}},{key:"onClickEnter",value:function(){var e=this;this.prepareForClose(function(){T.loginManager.enterWorld(e.nameInput.value,e.serverSelect.value)})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.isValid()&&this.onClickEnter()}},{key:"willRemoveHint",value:function(){this.setState({hint:null})}}]),t}(_.default);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),a=n(2),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(4),h=r(d),p=n(12),y=r(p),v=n(3),m=r(v),g=n(15),k=r(g),b=n(9),_=r(b),w=n(7),C=r(w),x=n(6),E=r(x),M=n(128),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(M),T=n(5),L=C.default.lifeCycle,D=Math.floor,P=function(e){function t(e){(0,l.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));T.eventDispatcher.addListener(e.mapLogic,"map_entity_add",n,n.onEntityAdd),T.eventDispatcher.addListener(e.mapLogic,"map_entity_die",n,n.onEntityDie),T.eventDispatcher.addListener(null,"display_stage_size_changed",n,n.onStageSizeChanged.bind(n)),n.textureCache={},n.watchingEntityLogic=null,n.entities=[];var r=T.gameManager.getMapLogic().getEntities(),i=!0,a=!1,u=void 0;try{for(var c,f=(0,o.default)(r);!(i=(c=f.next()).done);i=!0){var d=c.value;d.getLifeCycle()!=L.die&&n.entities.push(n.createEntityRenderer(d))}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return n.timerID=T.scheduler.schedule(0,n.update.bind(n)),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"getViewPort",value:function(){return this.viewPort}},{key:"createEntityRenderer",value:function(e){var t=e.getRes();return new(0,S[t.name+"EntityRenderer"])(e,this)}},{key:"update",value:function(e){var t=this.refs.map,n=this.viewPort,r="";if(this.watchingEntityLogic){var i=T.gameManager.getMapLogic().getSize(),a=this.watchingEntityLogic.getPosition();if(n.x=a.x-n.width/2,n.x<0)n.x=0;else{var s=i.width-n.width;n.x>s&&(n.x=s)}if(n.y=a.y-n.height/2,n.y<0)n.y=0;else{var u=i.width-n.height;n.y>u&&(n.y=u)}DEBUG&&(r+="coor:"+T.util.toFixed(a.x,2)+","+T.util.toFixed(a.y,2))}this.ctx.clearRect(0,0,t.width,t.height),this.ctx.drawImage(this.textureCache.grid,n.x,n.y,n.width,n.height,0,0,n.width,n.height);var l=this.entities,c=0,f=!0,d=!1,h=void 0;try{for(var p,y=(0,o.default)(l);!(f=(p=y.next()).done);f=!0)p.value.draw(this.ctx)&&++c}catch(e){d=!0,h=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw h}}DEBUG&&(r+=" draw:"+c+"/"+l.length),""!=r&&(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.textAlign="left",this.ctx.fillStyle="#ffffff",this.ctx.fillText(r,0,t.height-30))}},{key:"componentDidMount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentDidMount",this).call(this),this.ctx=this.refs.map.getContext("2d"),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.font="15px Verdana",this.ctx.textBaseline="middle"}},{key:"componentWillUnmount",value:function(){(0,y.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"componentWillUnmount",this).call(this),T.scheduler.unschedule(this.timerID),this.timerID=null}},{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){var e=T.gameManager.getMapLogic().getSize(),t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.width,t.height=e.height;var r=C.default.gridPixel,i=D(e.width/r),o=D(e.height/r);n.fillStyle="#252525",n.fillRect(0,0,e.width,e.height),n.beginPath();for(var a=0;a<=i;++a){var s=r*a;n.moveTo(s,0),n.lineTo(s,e.height)}for(var u=0;u<=o;++u){var l=r*u;n.moveTo(0,l),n.lineTo(e.width,l)}n.lineWidth=1,n.strokeStyle="#2a2a2a",n.stroke(),this.textureCache.grid=new Image,this.textureCache.grid.src=n.canvas.toDataURL("img/png");var c=T.display.getStageSize();return this.viewPort=new T.Rect(0,0,c.width,c.height),E.default.createElement("canvas",{ref:"map",className:_.default.gameMap,width:c.width,height:c.height})}},{key:"onEntityAdd",value:function(e,t){t.getPlayerLogic()==T.gameManager.getLocalPlayerLogic()&&(this.watchingEntityLogic=t,this.refs.map.focus()),this.entities.push(this.createEntityRenderer(t))}},{key:"onEntityDie",value:function(e,t,n){t.getPlayerLogic()==T.gameManager.getLocalPlayerLogic()&&(this.watchingEntityLogic=null);for(var r=this.entities,i=r.length,o=0;o<i;++o)if(r[o].getLogic()==t)return void r.splice(o,1);throw new Error("")}},{key:"onStageSizeChanged",value:function(e,t){this.refs.map.width=t.width,this.refs.map.height=t.height,this.viewPort.width=t.width,this.viewPort.height=t.height}}]),t}(k.default);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=r(p),v=n(15),m=r(v),g=n(9),k=r(g),b=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={selectedIdx:e.selectedIdx||0},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.titles,t=[];for(var n in e)t.push(y.default.createElement("span",{onClick:this.onClickTitle.bind(this),"data-selected":n==this.state.selectedIdx?"":null},e[n]));return y.default.createElement("div",{className:k.default.switchPanel},y.default.createElement("div",null,t),this.props.contentAtIdx(this.state.selectedIdx))}},{key:"onClickTitle",value:function(e){var t=e.target;if(void 0===t.dataset.selected){for(var n=0;(t=t.previousSibling)&&++n;);this.setState({selectedIdx:n})}}}]),t}(m.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(15),y=r(p),v=n(6),m=r(v),g=n(144),k=r(g),b=n(79),_=r(b),w=n(9),C=r(w),x=n(5),E=n(143),M=r(E),S=n(14),T=r(S),L=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return x.eventDispatcher.addListener(x.worldManager,"WorldManager_disconnect",n,n.onWorldDisconnected),x.eventDispatcher.addListener(x.worldManager,"WorldManager_showGuide",n,n.onWorldShowGuide),n.state={},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:C.default.scene},m.default.createElement(k.default,{onClickEnterChat:this.onClickEnterChat.bind(this)}),this.state.isShowChat&&m.default.createElement(M.default,{onClickClose:this.onClickChatClose.bind(this)}),this.state.exitHint&&m.default.createElement(_.default,{onClickClose:this.onExitWorld.bind(this)},this.state.exitHint),this.state.isShowGuide&&m.default.createElement(_.default,{onClickClose:this.onGuideFinish.bind(this)},m.default.createElement("div",{className:C.default.guide,dangerouslySetInnerHTML:{__html:x.util.format(T.default.guideContent,'\n                            <kbd>\n                                <svg\n                                    aria-hidden="true">\n                                    <use xlink:href="#icon-return"></use>\n                                </svg>\n                            </kbd>\n                            <kbd>\n                                <svg\n                                    aria-hidden="true">\n                                    <use xlink:href="#icon-packup"></use>\n                                </svg>\n                            </kbd>\n                            <kbd>\n                                <svg\n                                    aria-hidden="true">\n                                    <use xlink:href="#icon-enter"></use>\n                                </svg>\n                            </kbd>\n                            <kbd>\n                                <svg\n                                    aria-hidden="true">\n                                    <use xlink:href="#icon-unfold"></use>\n                                </svg>\n                            </kbd>\n                            ')}})))}},{key:"onWorldDisconnected",value:function(e){this.setState({exitHint:x.util.format(T.default.serverDisconnect,T.default.game)})}},{key:"onExitWorld",value:function(){x.worldManager.backToLogin()}},{key:"onClickEnterChat",value:function(){this.setState({isShowChat:!0})}},{key:"onClickChatClose",value:function(){this.setState({isShowChat:!1})}},{key:"onWorldShowGuide",value:function(){this.setState({isShowGuide:!0})}},{key:"onGuideFinish",value:function(){x.worldManager.startGame()}}]),t}(y.default);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(11),a=r(o),s=n(2),u=r(s),l=n(0),c=r(l),f=n(1),d=r(f),h=n(4),p=r(h),y=n(12),v=r(y),m=n(3),g=r(m),k=n(161),b=r(k),_=n(6),w=r(_),C=n(14),x=r(C),E=n(20),M=r(E),S=n(9),T=r(S),L=n(5),D=(i={},(0,b.default)(i,!1,T.default.playerMessage),(0,b.default)(i,!0,T.default.localPlayerMessage),i),P=function(e){function t(e){(0,c.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.state={hideClose:!1,title:x.default.chat,btns:[{title:x.default.clearMessages,onClick:n.onClickClearMessages.bind(n),disable:!1,name:"ClearMessage"},{title:x.default.send,onClick:n.onClickSend.bind(n),disable:!0,name:"Send"}]},L.eventDispatcher.addListener(L.worldManager,"WorldManager_newMessage",n,n.onGetNewMessage),n}return(0,g.default)(t,e),(0,d.default)(t,[{key:"renderContent",value:function(){var e=this,t=L.memCache.get("player_info"),n=t?t.id:"",r=L.cache.get("chat_messages")||[],i=[],o=!0,s=!1,u=void 0;try{for(var l,c=(0,a.default)(r);!(o=(l=c.next()).done);o=!0){var f=l.value,d=f.playerID;i.push(w.default.createElement("div",{className:D[d==n]},w.default.createElement("span",null,f.playerName),w.default.createElement("span",null,L.util.timeFormat(f.time)),w.default.createElement("div",null,f.content)))}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}return w.default.createElement("div",null,w.default.createElement("div",{className:T.default.messageBoxContainer},w.default.createElement("div",{className:T.default.messageBox},w.default.createElement("div",{ref:function(t){e.messagesContainer=t},className:T.default.messages},i))),w.default.createElement("textarea",{maxLength:500,className:T.default.inputBox,ref:function(t){return e.inputBox=t},onKeyPress:this.onKeyPress.bind(this),onInput:this.onInputText.bind(this)}))}},{key:"componentDidMount",value:function(){(0,v.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"componentDidMount",this).call(this),this.inputBox.focus(),this.messagesContainer.scrollTop=this.messagesContainer.scrollHeight}},{key:"componentWillUpdate",value:function(e,n){(0,v.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"componentWillUpdate",this).call(this),n.btns[1].disable=!this.isValid()}},{key:"componentDidUpdate",value:function(e,n){var r=this;(0,v.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"componentDidUpdate",this).call(this),L.scheduler.scheduleOnce(0,function(){r.messagesContainer.scrollTop=r.messagesContainer.scrollHeight})}},{key:"onInputText",value:function(){this.setState({})}},{key:"onKeyPress",value:function(e){"Enter"==e.key&&(this.onClickSend(),e.preventDefault())}},{key:"isValid",value:function(){return this.inputBox.value.length>0}},{key:"onGetNewMessage",value:function(e,t){this.setState({})}},{key:"onClickSend",value:function(){this.isValid()&&(L.worldManager.sendMessage(this.inputBox.value),this.inputBox.value="",this.inputBox.focus())}},{key:"onClickClearMessages",value:function(){L.worldManager.clearMessagesCache(),this.setState({})}}]),t}(M.default);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(4),f=r(c),d=n(3),h=r(d),p=n(6),y=(r(p),n(14)),v=r(y),m=n(20),g=r(m),k=n(5),b=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={hideClose:!0,title:v.default.world,btns:[{title:v.default.backToLogin,onClick:n.onClickExit.bind(n),disable:!1,name:"BackToLogin"},{title:v.default.enterChat,onClick:n.onClickChat.bind(n),disable:!1,name:"EnterChat"},{title:v.default.startGame,onClick:n.onClickStartGame.bind(n),disable:!1,name:"Enter"}]},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"renderContent",value:function(){}},{key:"onClickStartGame",value:function(){this.prepareForClose(function(){k.worldManager.startGame()})}},{key:"onClickExit",value:function(){this.prepareForClose(function(){k.worldManager.backToLogin()})}},{key:"onClickChat",value:function(){this.props.onClickEnterChat()}}]),t}(g.default);t.default=b},function(e,t,n){"use strict";var r=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports={1e4:{id:1e4,name:"Circle",speed:.055,states:["move","eat"],radius:15,probability:0,isFood:!0,static:!1,initState:i.default.lifeCycle.init,ext:{}},10001:{id:10001,name:"Polygon",speed:0,states:[],radius:7,probability:20,isFood:!0,static:!0,initState:i.default.lifeCycle.live,ext:{sideCount:3}},10002:{id:10002,name:"Polygon",speed:0,states:[],radius:8,probability:30,isFood:!0,static:!0,initState:i.default.lifeCycle.live,ext:{sideCount:4}},10003:{id:10003,name:"Polygon",speed:0,states:[],radius:9,probability:20,isFood:!0,static:!0,initState:i.default.lifeCycle.live,ext:{sideCount:5}},10004:{id:10004,name:"Polygon",speed:0,states:[],radius:10,probability:15,isFood:!0,static:!0,initState:i.default.lifeCycle.live,ext:{sideCount:6}},10005:{id:10005,name:"Saboteur",speed:0,states:["split"],radius:30,probability:15,isFood:!1,static:!1,initState:i.default.lifeCycle.live,ext:{sideCount:6,sideWidth:3,rotateAniTime:500}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(29),o=r(i),a=n(150),s=r(a);e.exports=(0,o.default)({},s.default)},function(e,t,n){"use strict";!function(e){function t(){var e,t;e=document.createElement("div"),e.innerHTML=n,n=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",i(t,document.body))}var n='<svg><symbol id="icon-add" viewBox="0 0 1024 1024"><path d="M512 832a32 32 0 0 0 32-32v-256h256a32 32 0 0 0 0-64h-256V224a32 32 0 0 0-64 0v256H224a32 32 0 0 0 0 64h256v256a32 32 0 0 0 32 32"  ></path></symbol><symbol id="icon-close" viewBox="0 0 1024 1024"><path d="M544.448 499.2l284.576-284.576a32 32 0 0 0-45.248-45.248L499.2 453.952 214.624 169.376a32 32 0 0 0-45.248 45.248l284.576 284.576-284.576 284.576a32 32 0 0 0 45.248 45.248l284.576-284.576 284.576 284.576a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0-45.248L544.448 499.2z"  ></path></symbol><symbol id="icon-delete" viewBox="0 0 1024 1024"><path d="M512 832c-176.448 0-320-143.552-320-320S335.552 192 512 192s320 143.552 320 320-143.552 320-320 320m0-704C300.256 128 128 300.256 128 512s172.256 384 384 384 384-172.256 384-384S723.744 128 512 128"  ></path><path d="M649.824 361.376a31.968 31.968 0 0 0-45.248 0L505.6 460.352l-98.976-98.976a31.968 31.968 0 1 0-45.248 45.248l98.976 98.976-98.976 98.976a32 32 0 0 0 45.248 45.248l98.976-98.976 98.976 98.976a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248L550.848 505.6l98.976-98.976a31.968 31.968 0 0 0 0-45.248"  ></path></symbol><symbol id="icon-enter" viewBox="0 0 1024 1024"><path d="M693.792 498.24l-320-297.664a32 32 0 0 0-43.584 46.848l295.36 274.752-295.84 286.848a31.968 31.968 0 1 0 44.544 45.92l320-310.272a31.968 31.968 0 0 0-0.48-46.4"  ></path></symbol><symbol id="icon-mail" viewBox="0 0 1024 1024"><path d="M831.936 768L192 768.192V378.304l302.816 192.704a32.096 32.096 0 0 0 34.4 0L832 378.304 831.936 768zM192 255.776L192.096 256 832 255.776v46.656l-320 203.616L192 302.432V255.776zM831.936 192H192.096A64 64 0 0 0 128 255.776v512.416C128 803.36 156.768 832 192.096 832h639.84A64 64 0 0 0 896 768.192V255.776A64 64 0 0 0 831.936 192z"  ></path></symbol><symbol id="icon-people" viewBox="0 0 1024 1024"><path d="M800 835.328l-574.496 0.032A2.464 2.464 0 0 1 224 834.656v-118.656c0-5.856 5.92-14.944 12.096-17.44 1.056-0.448 69.408-30.272 149.952-50.464 41.248-10.336 85.632-18.208 125.952-18.208 36.64 0 76.736 6.496 114.816 15.456a1061.6 1061.6 0 0 1 161.856 53.536c5.312 2.176 11.328 11.296 11.328 17.12v119.36zM400.992 326.88A103.136 103.136 0 0 1 504.16 224a103.168 103.168 0 0 1 103.2 102.88v123.104a103.168 103.168 0 0 1-103.2 102.88 103.136 103.136 0 0 1-103.168-102.88v-123.104zM813.728 640c-3.904-1.728-58.56-25.6-129.312-45.76a883.616 883.616 0 0 0-72.608-17.6c36.096-30.592 59.552-75.68 59.552-126.656v-123.104A167.168 167.168 0 0 0 504.192 160c-92.16 0-167.2 74.72-167.2 166.88v123.104c0 52.352 24.768 98.624 62.72 129.28-25.472 5.376-50.112 11.872-72.8 18.656a1098.656 1098.656 0 0 0-115.648 41.664C182.016 651.328 160 684.192 160 716v131.68l1.696 4.992c9.504 27.936 35.136 46.72 63.808 46.72h572.992a65.536 65.536 0 0 0 64.96-56.96l0.544-126.4c0-31.616-21.952-64.416-50.272-76.032z"  ></path></symbol><symbol id="icon-return" viewBox="0 0 1024 1024"><path d="M694.272 809.024l-295.808-286.848 295.36-274.752a32 32 0 0 0-43.616-46.848l-320 297.696a32 32 0 0 0-0.512 46.4l320 310.304a32.032 32.032 0 0 0 44.576-45.952"  ></path></symbol><symbol id="icon-right" viewBox="0 0 1024 1024"><path d="M822.464 265.344a28.256 28.256 0 0 0-43.072 1.312l-352.96 417.664-181.92-212.992a28.288 28.288 0 0 0-43.104-1.088 37.12 37.12 0 0 0-0.96 48.256l204.096 238.944c5.76 6.752 13.696 10.56 22.016 10.56h0.096a29.088 29.088 0 0 0 22.048-10.656L823.68 313.6c11.52-13.728 11.008-35.328-1.216-48.256"  ></path></symbol><symbol id="icon-setup" viewBox="0 0 1024 1024"><path d="M825.312 566.816a127.04 127.04 0 0 0-91.616 62.624 127.232 127.232 0 0 0-8.448 110.56 318.976 318.976 0 0 1-113.216 65.472A127.072 127.072 0 0 0 512 757.44a127.2 127.2 0 0 0-100.064 48 319.232 319.232 0 0 1-113.216-65.44 127.232 127.232 0 0 0-8.416-110.56 127.04 127.04 0 0 0-91.648-62.624 323.232 323.232 0 0 1 0-130.784 127.104 127.104 0 0 0 91.648-62.592 127.296 127.296 0 0 0 8.416-110.592 318.976 318.976 0 0 1 113.216-65.472A127.232 127.232 0 0 0 512 245.44c39.712 0 76.064-17.92 100.032-48.064a318.72 318.72 0 0 1 113.216 65.472 127.328 127.328 0 0 0 8.448 110.592 127.104 127.104 0 0 0 91.616 62.592 321.536 321.536 0 0 1 0 130.784m56.16-170.304a31.776 31.776 0 0 0-32.832-23.2 63.584 63.584 0 0 1-59.52-31.872 63.744 63.744 0 0 1 2.112-67.52 32 32 0 0 0-3.68-39.936 383.392 383.392 0 0 0-181.696-104.992 31.968 31.968 0 0 0-36.48 16.832A63.68 63.68 0 0 1 512 181.44a63.68 63.68 0 0 1-57.376-35.616 32 32 0 0 0-36.48-16.832 383.264 383.264 0 0 0-181.696 104.96 32 32 0 0 0-3.712 40 63.68 63.68 0 0 1 2.112 67.488 63.68 63.68 0 0 1-59.52 31.872 31.52 31.52 0 0 0-32.8 23.2A383.136 383.136 0 0 0 128 501.44c0 35.648 4.864 70.944 14.528 104.896a31.904 31.904 0 0 0 32.8 23.2 64.032 64.032 0 0 1 59.52 31.904c12.256 21.184 11.456 47.04-2.112 67.456a32 32 0 0 0 3.712 39.968 382.88 382.88 0 0 0 181.696 104.96 31.936 31.936 0 0 0 36.48-16.8A63.648 63.648 0 0 1 512 821.44c24.512 0 46.496 13.632 57.376 35.584a32 32 0 0 0 36.48 16.832 383.04 383.04 0 0 0 181.696-104.992 32 32 0 0 0 3.68-40 63.68 63.68 0 0 1-2.112-67.424 63.136 63.136 0 0 1 59.52-31.904c15.04 0.896 28.704-8.736 32.832-23.2A384.64 384.64 0 0 0 896 501.44c0-35.648-4.896-70.944-14.528-104.96"  ></path><path d="M512 597.44c-52.928 0-96-43.104-96-96 0-52.96 43.072-96 96-96s96 43.04 96 96c0 52.896-43.072 96-96 96m0-256c-88.224 0-160 71.744-160 160 0 88.224 71.776 160 160 160s160-71.808 160-160c0-88.256-71.776-160-160-160"  ></path></symbol><symbol id="icon-success" viewBox="0 0 1024 1024"><path d="M512 832c-176.448 0-320-143.552-320-320S335.552 192 512 192s320 143.552 320 320-143.552 320-320 320m0-704C300.256 128 128 300.256 128 512s172.256 384 384 384 384-172.256 384-384S723.744 128 512 128"  ></path><path d="M619.072 429.088l-151.744 165.888-62.112-69.6a32 32 0 1 0-47.744 42.624l85.696 96a32 32 0 0 0 23.68 10.688h0.192c8.96 0 17.536-3.776 23.616-10.4l175.648-192a32 32 0 0 0-47.232-43.2"  ></path></symbol><symbol id="icon-undo" viewBox="0 0 1024 1024"><path d="M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272"  ></path></symbol><symbol id="icon-warning" viewBox="0 0 1024 1024"><path d="M522.656 388.064a32 32 0 0 0-32 32v160a32 32 0 0 0 64 0v-160a32 32 0 0 0-32-32M522.656 676.064a32 32 0 1 0 0 64 32 32 0 0 0 0-64"  ></path><path d="M714.656 795.616H203.072l127.584-221.888 33.152-57.664 158.848-276.224 158.816 276.224 33.184 57.696 127.552 221.856h-127.552z m194.528-11.968L566.528 187.712c-10.144-17.6-26.112-27.712-43.872-27.712s-33.728 10.112-43.84 27.712L136.096 783.648c-10.048 17.568-10.784 36.48-1.92 51.84 8.896 15.328 25.6 24.128 45.824 24.128H865.344c20.16 0 36.864-8.8 45.76-24.128 8.896-15.36 8.192-34.24-1.92-51.84z"  ></path></symbol><symbol id="icon-packup" viewBox="0 0 1024 1024"><path d="M793.024 710.272a32 32 0 1 0 45.952-44.544l-310.304-320a32 32 0 0 0-46.4 0.48l-297.696 320a32 32 0 0 0 46.848 43.584l274.752-295.328 286.848 295.808z"  ></path></symbol><symbol id="icon-unfold" viewBox="0 0 1024 1024"><path d="M231.424 346.208a32 32 0 0 0-46.848 43.584l297.696 320a32 32 0 0 0 46.4 0.48l310.304-320a32 32 0 1 0-45.952-44.544l-286.848 295.808-274.752-295.36z"  ></path></symbol></svg>',r=function(e,t){t.parentNode.insertBefore(e,t)},i=function(e,t){t.firstChild?r(e,t.firstChild):t.appendChild(e)};if(function(){var e=document.getElementsByTagName("script");return e[e.length-1]}().getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var n=function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",n,!1)}else document.attachEvent&&function(e,t){var n=e.document,r=!1,i=function(){r||(r=!0,t())};!function e(){try{n.documentElement.doScroll("left")}catch(t){return void setTimeout(e,50)}i()}(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,i())}}(e,t)}(t)}(window)},function(e,t,n){"use strict";e.exports={stand:0,moveLeft:37,moveUp:38,moveRight:39,moveDown:40,joinPlayer:5,removePlayer:6}},function(e,t,n){"use strict";e.exports={playerState:{online:0,gaming:1},keyFrameInterval:100,gameState:{pendding:0,playing:1,ended:2,initing:3},roomEntityLimit:1024768,roomCreateExpireTime:5e3,mapDefaultSize:{width:1500,height:1500},mapRandomEntityLimit:100,gameOverTime:155e3,gameEndTime:15e4,epsilon:1e-6,eatAddRadiusRatio:.1,entityInitTime:3e3,nameMaxLength:8}},function(e,t,n){"use strict";var r={unknownError:1e4,timeout:10001,connectError:10002,invalidData:10003,uselessData:10004,uselessRequest:10005,invalidPlayer:10006,invalidState:10007,agentError:10008,invaidGameToken:10009,expiredGameToken:10010,emptyPlayerName:10011,invalidPlayerName:10012};e.exports=r},function(e,t,n){"use strict";var r={error:-1,heartbeatCS:0,heartbeatSC:1,playerInfoCW:10001,playerInfoWC:10001,getGameServerCW:10002,getGameServerWC:10003,createMapCG:20009,createMapGC:20010,frameDataCG:20011,frameDataGC:20012,gameEndCG:20013,gameEndGC:20014,sendGameDataCG:20015,sendGameDataGC:20016,abnormalCG:20018,abnormalGC:20018,newMessageCL:30001,newMessageLC:30002,newSysMessageCL:30003,newSysMessageLC:30004};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(162),o=r(i),a=n(11),s=r(a),u=n(154),l=r(u),c=n(1),f=r(c),d=n(0),h=r(d),p=n(7),y=r(p),v=n(80),m=r(v),g=y.default.runningStates,k=Math.floor,b=function e(t,n,r,i){(0,h.default)(this,e),this.id=t,this.cb=i,this.state=r,this.interval=n,this.scheduleTime=0,this.preTime=0,this.loopedCount=0},_=function(){function e(){(0,h.default)(this,e),this.nodes=new l.default,this.state=g.running,this.startTime=m.default.time(),this.preTime=this.startTime,this.timeScale=1,this.idCursor=0,this.fps=0}return(0,f.default)(e,[{key:"invalidScheduleID",get:function(){return null}}]),(0,f.default)(e,[{key:"setTimeScale",value:function(e){this.timeScale=e}},{key:"getTimeScale",value:function(){return this.timeScale}},{key:"setFPS",value:function(e){this.fps=e}},{key:"update",value:function(){if(this.state==g.running){var e=m.default.time(),t=(e-this.preTime)*this.timeScale;if(!(t<this.fps)){this.preTime=e;var n=!0,r=!1,i=void 0;try{for(var a,u=(0,s.default)(this.nodes);!(n=(a=u.next()).done);n=!0){var l=(0,o.default)(a.value,2),c=l[0],f=l[1];if(f.state==g.running){f.scheduleTime+=t;var d=k(f.scheduleTime/f.interval);(0==f.interval||d>f.loopedCount)&&(++f.loopedCount,f.cb(f.scheduleTime-f.preTime),f.preTime=f.scheduleTime)}else f.state==g.stop&&this.nodes.delete(c)}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}}}}},{key:"pause",value:function(e){this.nodes(e).state=g.pause}},{key:"pauseAll",value:function(){this.state=g.pause;var e=!0,t=!1,n=void 0;try{for(var r,i=(0,s.default)(this.nodes);!(e=(r=i.next()).done);e=!0){var o=r.value;o.state==g.running&&(o.state=g.pause)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"resume",value:function(e){this.nodes.get(e).state=g.running}},{key:"resumeAll",value:function(){this.state=g.running;var e=!0,t=!1,n=void 0;try{for(var r,i=(0,s.default)(this.nodes);!(e=(r=i.next()).done);e=!0){var o=r.value;o.state==g.pause&&(o.state=g.running)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"unschedule",value:function(e){this.nodes.get(e).state=g.stop}},{key:"unscheduleAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,s.default)(this.nodes);!(e=(r=i.next()).done);e=!0)r.value.state=g.stop}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"schedule",value:function(e,t){var n=new b(++this.idCursor,e,this.state,t);return this.nodes.set(this.idCursor,n),this.idCursor}},{key:"scheduleOnce",value:function(e,t){var n=this,r=this.schedule(e,function(){t(),n.unschedule(r)})}}]),e}();t.default=_},function(e,t,n){e.exports={default:n(167),__esModule:!0}},function(e,t,n){e.exports={default:n(169),__esModule:!0}},function(e,t,n){e.exports={default:n(171),__esModule:!0}},function(e,t,n){e.exports={default:n(173),__esModule:!0}},function(e,t,n){e.exports={default:n(174),__esModule:!0}},function(e,t,n){e.exports={default:n(176),__esModule:!0}},function(e,t,n){e.exports={default:n(177),__esModule:!0}},function(e,t,n){e.exports={default:n(178),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(81),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(153),o=r(i),a=n(11),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),f=new Uint8Array(c);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],f[l++]=r<<2|i>>4,f[l++]=(15&i)<<4|o>>2,f[l++]=(3&o)<<6|63&a;return c}}()},function(e,t,n){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),u=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return a?s?t.Blob:i:u?r:void 0}()}).call(t,n(10))},function(e,t,n){n(45),n(44),e.exports=n(201)},function(e,t,n){n(45),n(44),e.exports=n(202)},function(e,t,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(95),n(44),n(45),n(204),n(213),e.exports=n(8).Map},function(e,t,n){n(205),e.exports=n(8).Object.assign},function(e,t,n){n(206);var r=n(8).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(207);var r=n(8).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){n(208);var r=n(8).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){n(209);var r=n(8).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(210),e.exports=n(8).Object.getPrototypeOf},function(e,t,n){n(211),e.exports=n(8).Object.setPrototypeOf},function(e,t,n){n(212),n(95),n(214),n(215),e.exports=n(8).Symbol},function(e,t,n){n(44),n(45),e.exports=n(70).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(23),i=n(67),o=n(200);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(33),i=n(57),o=n(42),a=n(67),s=n(185);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var y,v,m=o(t),g=i(m),k=r(s,p,3),b=a(g.length),_=0,w=n?h(t,b):u?h(t,0):void 0;b>_;_++)if((d||_ in g)&&(y=g[_],v=k(y,_,m),e))if(n)w[_]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return _;case 2:w.push(y)}else if(c)return!1;return f?-1:l||c?c:w}}},function(e,t,n){var r=n(27),i=n(86),o=n(13)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(184);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(18).f,i=n(38),o=n(92),a=n(33),s=n(83),u=n(37),l=n(56),c=n(58),f=n(87),d=n(198),h=n(16),p=n(60).fastKey,y=h?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var f=e(function(e,r){s(e,f,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=r&&l(r,n,e[c],e)});return o(f.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var t=this,n=v(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[y]--}return!!n},forEach:function(e){s(this,f,"forEach");for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!v(this,e)}}),h&&r(f.prototype,"size",{get:function(){return u(this[y])}}),f},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[y]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?f(0,n.k):"values"==t?f(0,n.v):f(0,[n.k,n.v]):(e._t=void 0,f(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(53),i=n(181);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(17),i=n(19),o=n(60),a=n(25),s=n(22),u=n(92),l=n(56),c=n(83),f=n(27),d=n(41),h=n(18).f,p=n(183)(0),y=n(16);e.exports=function(e,t,n,v,m,g){var k=r[e],b=k,_=m?"set":"add",w=b&&b.prototype,C={};return y&&"function"==typeof b&&(g||w.forEach&&!a(function(){(new b).entries().next()}))?(b=t(function(t,n){c(t,b,e,"_c"),t._c=new k,void 0!=n&&l(n,m,t[_],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!g||"clear"!=e)&&s(b.prototype,e,function(n,r){if(c(this,b,e),!t&&g&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),"size"in w&&h(b.prototype,"size",{get:function(){return this._c.size}})):(b=v.getConstructor(t,e,m,_),u(b.prototype,n),o.NEED=!0),d(b,e),C[e]=b,i(i.G+i.W+i.F,C),g||v.setStrong(b,e,m),b}},function(e,t,n){var r=n(34),i=n(62),o=n(39);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){e.exports=n(17).document&&document.documentElement},function(e,t,n){var r=n(30),i=n(13)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(21);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(38),i=n(40),o=n(41),a={};n(22)(a,n(13)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(34),i=n(23);e.exports=function(e,t){for(var n,o=i(e),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===t)return n}},function(e,t,n){"use strict";var r=n(34),i=n(62),o=n(39),a=n(42),s=n(57),u=Object.assign;e.exports=!u||n(25)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var d,h=s(arguments[l++]),p=c?r(h).concat(c(h)):r(h),y=p.length,v=0;y>v;)f.call(h,d=p[v++])&&(n[d]=h[d]);return n}:u},function(e,t,n){var r=n(18),i=n(21),o=n(34);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(27),i=n(21),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(33)(Function.call,n(61).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){"use strict";var r=n(17),i=n(8),o=n(18),a=n(16),s=n(13)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(66),i=n(37);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){var r=n(66),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(21),i=n(94);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(53),i=n(13)("iterator"),o=n(30);e.exports=n(8).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){"use strict";var r=n(180),i=n(87),o=n(30),a=n(23);e.exports=n(58)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(186);e.exports=n(188)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(19);r(r.S+r.F,"Object",{assign:n(195)})},function(e,t,n){var r=n(19);r(r.S,"Object",{create:n(38)})},function(e,t,n){var r=n(19);r(r.S+r.F*!n(16),"Object",{defineProperty:n(18).f})},function(e,t,n){var r=n(23),i=n(61).f;n(63)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){n(63)("getOwnPropertyNames",function(){return n(88).f})},function(e,t,n){var r=n(42),i=n(90);n(63)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(19);r(r.S,"Object",{setPrototypeOf:n(197).set})},function(e,t,n){"use strict";var r=n(17),i=n(26),o=n(16),a=n(19),s=n(93),u=n(60).KEY,l=n(25),c=n(65),f=n(41),d=n(43),h=n(13),p=n(70),y=n(69),v=n(194),m=n(189),g=n(86),k=n(21),b=n(23),_=n(68),w=n(40),C=n(38),x=n(88),E=n(61),M=n(18),S=n(34),T=E.f,L=M.f,D=x.f,P=r.Symbol,A=r.JSON,O=A&&A.stringify,j=h("_hidden"),R=h("toPrimitive"),B={}.propertyIsEnumerable,N=c("symbol-registry"),I=c("symbols"),F=c("op-symbols"),U=Object.prototype,G="function"==typeof P,H=r.QObject,W=!H||!H.prototype||!H.prototype.findChild,q=o&&l(function(){return 7!=C(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(U,t);r&&delete U[t],L(e,t,n),r&&e!==U&&L(U,t,r)}:L,z=function(e){var t=I[e]=C(P.prototype);return t._k=e,t},J=G&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},X=function(e,t,n){return e===U&&X(F,t,n),k(e),t=_(t,!0),k(n),i(I,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=C(n,{enumerable:w(0,!1)})):(i(e,j)||L(e,j,w(1,{})),e[j][t]=!0),q(e,t,n)):L(e,t,n)},V=function(e,t){k(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?C(e):V(C(e),t)},Y=function(e){var t=B.call(this,e=_(e,!0));return!(this===U&&i(I,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(I,e)||i(this,j)&&this[j][e])||t)},$=function(e,t){if(e=b(e),t=_(t,!0),e!==U||!i(I,t)||i(F,t)){var n=T(e,t);return!n||!i(I,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=D(b(e)),r=[],o=0;n.length>o;)i(I,t=n[o++])||t==j||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===U,r=D(n?F:b(e)),o=[],a=0;r.length>a;)!i(I,t=r[a++])||n&&!i(U,t)||o.push(I[t]);return o};G||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(F,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),q(this,e,w(1,n))};return o&&W&&q(U,e,{configurable:!0,set:t}),z(e)},s(P.prototype,"toString",function(){return this._k}),E.f=$,M.f=X,n(89).f=x.f=Q,n(39).f=Y,n(62).f=Z,o&&!n(59)&&s(U,"propertyIsEnumerable",Y,!0),p.f=function(e){return z(h(e))}),a(a.G+a.W+a.F*!G,{Symbol:P});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ee=S(h.store),te=0;ee.length>te;)y(ee[te++]);a(a.S+a.F*!G,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=P(e)},keyFor:function(e){if(J(e))return v(N,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!G,"Object",{create:K,defineProperty:X,defineProperties:V,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),A&&a(a.S+a.F*(!G||l(function(){var e=P();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!J(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,O.apply(A,r)}}}),P.prototype[R]||n(22)(P.prototype,R,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(19);r(r.P+r.R,"Map",{toJSON:n(187)("Map")})},function(e,t,n){n(69)("asyncIterator")},function(e,t,n){n(69)("observable")},function(e,t,n){function r(){return t.colors[c++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,o=n-(l||n);e.diff=o,e.prev=l,e.curr=n,l=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var u=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=a[u];n=i.call(e,o),a.splice(u,1),u--}return n}),a=t.formatArgs.apply(e,a),(i.log||t.log||console.log.bind(console)).apply(e,a)}n.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i.debug=i,t.coerce=u,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(226),t.names=[],t.skips=[],t.formatters={};var l,c=0},function(e,t,n){e.exports=n(218)},function(e,t,n){e.exports=n(219),e.exports.parser=n(31)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var i="object"==typeof t&&t;i.global===i&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(96),a=n(32),s=n(24)("engine.io-client:socket"),u=n(99),l=n(31),c=n(101),f=n(227),d=n(73);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=n(71),r.transports=n(96),r.parser=n(31),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=i(this.query);return t.EIO=l.protocol,t.transport=e,this.id&&(t.sid=this.id),new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;f=f||t}f||(s('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!f)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"===c.name,s('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){f||"closed"!==d.readyState&&(s("changing transport and sending upgrade packet"),l(),d.setTransport(c),c.send([{type:"upgrade"}]),d.emit("upgrade",c),c=null,d.upgrading=!1,d.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,d.emit("upgradeError",n)}}))}function n(){f||(f=!0,l(),c.close(),c=null)}function i(t){var r=new Error("probe error: "+t);r.transport=c.name,n(),s('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function u(e){c&&e.name!==c.name&&(s('"%s" works - aborting "%s"',e.name,c.name),n())}function l(){c.removeListener("open",t),c.removeListener("error",i),c.removeListener("close",o),d.removeListener("close",a),d.removeListener("upgrading",u)}s('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),f=!1,d=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",i),c.once("close",o),this.once("close",a),this.once("upgrading",u),c.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(f(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,n(10))},function(e,t,n){(function(t){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var o=n(97),a=n(36);e.exports=i;var s,u=/\n/g,l=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(e){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(u,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,n(10))},function(e,t,n){(function(t){function r(){}function i(e){if(u.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(72),u=n(97),l=n(32),c=n(36),f=n(24)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,c(i,u),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){f("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},l(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{f("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},f("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,n(10))},function(e,t,n){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=f&&!e.forceNode,this.usingBrowserWebSocket||(d=i),o.call(this,e)}var i,o=n(71),a=n(31),s=n(73),u=n(36),l=n(108),c=n(24)("engine.io-client:websocket"),f=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{i=n(238)}catch(e){}var d=f;d||"undefined"!=typeof window||(d=i),e.exports=r,u(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new d(e):new d(e,void 0,t)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,o=0,s=i;o<s;o++)!function(e){a.encodePacket(e,r.supportsBinary,function(o){if(!r.usingBrowserWebSocket){var a={};e.options&&(a.compress=e.options.compress),r.perMessageDeflate&&("string"==typeof o?t.Buffer.byteLength(o):o.length)<r.perMessageDeflate.threshold&&(a.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,a)}catch(e){c("websocket closed before onclose event")}--i||n()})}(e[o])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===r.prototype.name)}}).call(t,n(10))},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(e,r){var i;(function(){function o(e,t){function n(e){if(n[e]!==v)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,c="function"==typeof l&&k;if(c){(a=function(){return 1}).toJSON=a;try{c="0"===l(0)&&"0"===l(new r)&&'""'==l(new i)&&l(g)===v&&l(v)===v&&l()===v&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([v])&&"null"==l(null)&&"[null,null,null]"==l([v,g,null])&&l({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new u(-1))}catch(e){c=!1}}o=c}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){a=f(s);var d=5==a.a.length&&1===a.a[0];if(d){try{d=!f('"\t"')}catch(e){}if(d)try{d=1!==f("01")}catch(e){}if(d)try{d=1!==f("1.")}catch(e){}}}}catch(e){d=!1}o=d}}return n[e]=!!o}e||(e=l.Object()),t||(t=l.Object());var r=e.Number||l.Number,i=e.String||l.String,a=e.Object||l.Object,u=e.Date||l.Date,c=e.SyntaxError||l.SyntaxError,f=e.TypeError||l.TypeError,d=e.Math||l.Math,h=e.JSON||l.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var p,y,v,m=a.prototype,g=m.toString,k=new u(-0xc782b5b800cec);try{k=-109252==k.getUTCFullYear()&&0===k.getUTCMonth()&&1===k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(e){}if(!n("json")){var b=n("bug-string-char-index");if(!k)var _=d.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return w[t]+365*(e-1970)+_((e-1969+(t=+(t>1)))/4)-_((e-1901+t)/100)+_((e-1601+t)/400)};if((p=m.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?p=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)}),y=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)p.call(r,i)&&o++;return n=r=null,o?y=2==o?function(e,t){var n,r={},i="[object Function]"==g.call(e);for(n in e)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,r,i="[object Function]"==g.call(e);for(n in e)i&&"prototype"==n||!p.call(e,n)||(r="constructor"===n)||t(n);(r||p.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(e,t){var n,i,o="[object Function]"==g.call(e),a=!o&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(n in e)o&&"prototype"==n||!a.call(e,n)||t(n);for(i=r.length;n=r[--i];a.call(e,n)&&t(n));}),y(e,t)},!n("json-stringify")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E=function(e,t){return("000000"+(t||0)).slice(-e)},M=function(e){for(var t='"',n=0,r=e.length,i=!b||r>10,o=i&&(b?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=x[a];break;default:if(a<32){t+="\\u00"+E(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},S=function(e,t,n,r,i,o,a){var s,u,l,c,d,h,m,k,b,w,x,T,L,D,P,A;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(u=g.call(s))||p.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=u&&"[object String]"!=u&&"[object Array]"!=u||p.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(C){for(d=_(s/864e5),l=_(d/365.2425)+1970-1;C(l+1,0)<=d;l++);for(c=_((d-C(l,0))/30.42);C(l,c+1)<=d;c++);d=1+d-C(l,c),h=(s%864e5+864e5)%864e5,m=_(h/36e5)%24,k=_(h/6e4)%60,b=_(h/1e3)%60,w=h%1e3}else l=s.getUTCFullYear(),c=s.getUTCMonth(),d=s.getUTCDate(),m=s.getUTCHours(),k=s.getUTCMinutes(),b=s.getUTCSeconds(),w=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+E(6,l<0?-l:l):E(4,l))+"-"+E(2,c+1)+"-"+E(2,d)+"T"+E(2,m)+":"+E(2,k)+":"+E(2,b)+"."+E(3,w)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(u=g.call(s)))return""+s;if("[object Number]"==u)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==u)return M(""+s);if("object"==typeof s){for(D=a.length;D--;)if(a[D]===s)throw f();if(a.push(s),x=[],P=o,o+=i,"[object Array]"==u){for(L=0,D=s.length;L<D;L++)T=S(L,s,n,r,i,o,a),x.push(T===v?"null":T);A=x.length?i?"[\n"+o+x.join(",\n"+o)+"\n"+P+"]":"["+x.join(",")+"]":"[]"}else y(r||s,function(e){var t=S(e,s,n,r,i,o,a);t!==v&&x.push(M(e)+":"+(i?" ":"")+t)}),A=x.length?i?"{\n"+o+x.join(",\n"+o)+"\n"+P+"}":"{"+x.join(",")+"}":"{}";return a.pop(),A}};t.stringify=function(e,t,n){var r,i,o,a;if(s[typeof t]&&t)if("[object Function]"==(a=g.call(t)))i=t;else if("[object Array]"==a){o={};for(var u,l=0,c=t.length;l<c;u=t[l++],("[object String]"==(a=g.call(u))||"[object Number]"==a)&&(o[u]=1));}if(n)if("[object Number]"==(a=g.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return S("",(u={},u[""]=e,u),i,o,r,"",[])}}if(!n("json-parse")){var T,L,D=i.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},A=function(){throw T=L=null,c()},O=function(){for(var e,t,n,r,i,o=L,a=o.length;T<a;)switch(i=o.charCodeAt(T)){case 9:case 10:case 13:case 32:T++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?o.charAt(T):o[T],T++,e;case 34:for(e="@",T++;T<a;)if((i=o.charCodeAt(T))<32)A();else if(92==i)switch(i=o.charCodeAt(++T)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[i],T++;break;case 117:for(t=++T,n=T+4;T<n;T++)(i=o.charCodeAt(T))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||A();e+=D("0x"+o.slice(t,T));break;default:A()}else{if(34==i)break;for(i=o.charCodeAt(T),t=T;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++T);e+=o.slice(t,T)}if(34==o.charCodeAt(T))return T++,e;A();default:if(t=T,45==i&&(r=!0,i=o.charCodeAt(++T)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(T+1))>=48&&i<=57&&A(),r=!1;T<a&&(i=o.charCodeAt(T))>=48&&i<=57;T++);if(46==o.charCodeAt(T)){for(n=++T;n<a&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==T&&A(),T=n}if(101==(i=o.charCodeAt(T))||69==i){for(i=o.charCodeAt(++T),43!=i&&45!=i||T++,n=T;n<a&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==T&&A(),T=n}return+o.slice(t,T)}if(r&&A(),"true"==o.slice(T,T+4))return T+=4,!0;if("false"==o.slice(T,T+5))return T+=5,!1;if("null"==o.slice(T,T+4))return T+=4,null;A()}return"$"},j=function(e){var t,n;if("$"==e&&A(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=O());n||(n=!0))n&&(","==e?"]"==(e=O())&&A():A()),","==e&&A(),t.push(j(e));return t}if("{"==e){for(t={};"}"!=(e=O());n||(n=!0))n&&(","==e?"}"==(e=O())&&A():A()),","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==O()||A(),t[e.slice(1)]=j(O());return t}A()}return e},R=function(e,t,n){var r=B(e,t,n);r===v?delete e[t]:e[t]=r},B=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if("[object Array]"==g.call(i))for(r=i.length;r--;)R(i,r,n);else y(i,function(e){R(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return T=0,L=""+e,n=j(O()),"$"!=O()&&A(),T=L=null,t&&"[object Function]"==g.call(t)?B((r={},r[""]=n,r),"",t):n}}}return t.runInContext=o,t}var a=n(106),s={function:!0,object:!0},u=s[typeof t]&&t&&!t.nodeType&&t,l=s[typeof window]&&window||this,c=u&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof r&&r;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(l=c),u&&!a)o(l,u);else{var f=l.JSON,d=l.JSON3,h=!1,p=o(l,l.JSON3={noConflict:function(){return h||(h=!0,l.JSON=f,l.JSON3=d,f=d=null),p}});l.JSON={parse:p.parse,stringify:p.stringify}}a&&void 0!==(i=function(){return p}.call(t,n,t,e))&&(e.exports=i)}).call(this)}).call(t,n(107)(e),n(10))},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,l,"day")||o(e,u,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,u=60*s,l=24*u,c=365.25*l;e.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return n(e);if("number"===o&&!1===isNaN(e))return t.long?i(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,n(10))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?p=h.concat(p):v=-1,p.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=p.length;t;){for(h=p,p=[];++v<t;)h&&h[v].run();v=-1,t=p.length}h=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],y=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=o(e),a=r.source,c=r.id,f=r.path,d=l[c]&&f in l[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(u("ignoring socket cache for %s",a),n=s(a,t)):(l[c]||(u("new io instance for %s",a),l[c]=s(a,t)),n=l[c]),r.query&&!t.query?t.query=r.query:t&&"object"==typeof t.query&&(t.query=i(t.query)),n.socket(r.path,t)}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var o=n(230),a=n(74),s=n(102),u=n(24)("socket.io-client");e.exports=t=r;var l=t.managers={};t.protocol=a.protocol,t.connect=r,t.Manager=n(102),t.Socket=n(104)},function(e,t,n){(function(t){function r(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":"),s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}var i=n(101),o=n(24)("socket.io-client:url");e.exports=r}).call(t,n(10))},function(e,t,n){(function(e){var r=n(100),i=n(105);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var u in e)a[u]=t(e[u]);return a}return e}var n=[],o=e.data,a=e;return a.data=t(o),a.attachments=n.length,{packet:a,buffers:n}},t.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder)return t[e.num];if(r(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=n(e[o]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function o(t,u,l){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var c=new FileReader;c.onload=function(){l?l[u]=this.result:s=this.result,--a||n(s)},c.readAsArrayBuffer(t)}else if(r(t))for(var f=0;f<t.length;f++)o(t[f],f,t);else if(t&&"object"==typeof t&&!i(t))for(var d in t)o(t[d],d,t)}var a=0,s=t;o(s),a||n(s)}}).call(t,n(10))},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return e}t=e.exports=n(234),t.log=o,t.formatArgs=i,t.save=a,t.load=s,t.useColors=r,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t,n){function r(){return t.colors[c++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,o=n-(l||n);e.diff=o,e.prev=l,e.curr=n,l=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var o=a[s];n=i.call(e,o),a.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a)),(i.log||t.log||console.log.bind(console)).apply(e,a)}n.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=u,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(235),t.names=[],t.skips=[],t.formatters={};var l,c=0},function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,l,"day")||o(e,u,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,u=60*s,l=24*u,c=365.25*l;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?i(e):r(e)}},function(e,t){function n(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=n},function(e,t,n){(function(e,r){var i;!function(r){function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function a(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=v(t>>>10&1023|55296),t=56320|1023&t),i+=v(t);return i}function s(e,t){return v(e>>t&63|128)}function u(e){if(0==(4294967168&e))return v(e);var t="";return 0==(4294965248&e)?t=v(e>>6&31|192):0==(4294901760&e)?(t=v(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=v(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=v(63&e|128)}function l(e){for(var t,n=o(e),r=n.length,i=-1,a="";++i<r;)t=n[i],a+=u(t);return a}function c(){if(y>=p)throw Error("Invalid byte index");var e=255&h[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(){var e,t,n,r,i;if(y>p)throw Error("Invalid byte index");if(y==p)return!1;if(e=255&h[y],y++,0==(128&e))return e;if(192==(224&e)){var t=c();if((i=(31&e)<<6|t)>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),n=c(),(i=(15&e)<<12|t<<6|n)>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),n=c(),r=c(),(i=(15&e)<<18|t<<12|n<<6|r)>=65536&&i<=1114111))return i;throw Error("Invalid WTF-8 detected")}function d(e){h=o(e),p=h.length,y=0;for(var t,n=[];!1!==(t=f());)n.push(t);return a(n)}var h,p,y,v=("object"==typeof e&&e&&e.exports,String.fromCharCode),m={version:"1.0.0",encode:l,decode:d};void 0!==(i=function(){return m}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(107)(e),n(10))},function(e,t){}],[122]);